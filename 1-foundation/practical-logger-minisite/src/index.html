<!DOCTYPE html>
<html lang="en" class="o⋄top-container" data-o-theme="light-on-dark">
<head>
	<meta charset="UTF-8">
	<meta content="width=device-width, initial-scale=1" name="viewport">

	<title>Offirmo’s Practical Logger</title>

	<style type="text/css">
		@import '../../../2-advanced/view-css/src/style.css';
		@import '../../../2-advanced/view-css/src/style--theme--lod-colorhunt212.css';
		@import '../../../2-advanced/view-css/src/extras/beautiful-website.css';

		img {
			max-width: 500px;
			xxmax-width: -webkit-fill-available;
		}
	</style>
	<!--<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.17.1/themes/prism.css" crossorigin="anonymous">-->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.17.1/themes/prism-twilight.css" crossorigin="anonymous">
</head>

<body class="o⋄top-container o⋄font⁚roboto-mono o⋄flow" data-o-theme="lod--colorhunt212">

<!-- http://tholman.com/github-corners/ -->
<a href="https://github.com/Offirmo/offirmo-monorepo/tree/master/1-foundation/practicial-logger-types"
	class="github-corner" aria-label="View source on GitHub" target="_blank">
	<svg width="80" height="80" viewBox="0 20 225 250" style="fill:#FFEBBC; color:#543D46; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg>
</a>
<style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>


<nav style="position: sticky; top: 0; background-color: var(--o⋄color--bg⁚main); box-shadow: 0px 9px 10px -4px var(--o⋄color--bg⁚main--backdrop);">
	<ul class="o⋄nav-list">
		<li class="o⋄text-noselect o⋄color⁚secondary"><a href="#intro">Intro</a></li>
		<li class="o⋄text-noselect o⋄color⁚secondary"><a href="#demo">Demo</a></li>
		<li class="o⋄text-noselect o⋄color⁚secondary"><a href="#advocacy">Advocacy</a></li>
		<li class="o⋄text-noselect o⋄color⁚secondary"><a href="#setup">Setup</a></li>
		<li class="o⋄text-noselect o⋄color⁚secondary"><a href="#FAQ">FAQ</a></li>
		<li class="o⋄text-noselect o⋄color⁚secondary"><a href="#contributing">Contributing</a></li>
	</ul>
</nav>

<article>
<h1>Offirmo’s Practical Logger</h1>
<div class="o⋄color⁚ancillary" style="margin-top: -20px; font-size: x-large;font-style: italic;">
	for browsers & node & modules</div>

<aside>
	<img src="https://badgen.net/badge/built%20for/TypeScript/blue?icon=typescript">
	<img src="https://badgen.net/badge/built%20for/JavaScript/yellow">
	<a alt="license" href="https://unlicense.org/"><img alt="license badge" src="https://img.shields.io/badge/license-public_domain-brightgreen.svg"/></a>
	<img alt="maintenance status badge"
		  src="https://img.shields.io/maintenance/yes/2019.svg">
</aside>

<section id="intro">
	<h2>Intro</h2>
	<p>
		Offirmo's Practical Logger does only one thing and does it well:
		<strong>logging locally<sup><a href="#faq-remote-stash">(*)</a></sup> better than the built-in Console</strong>.
	</p>
		<pre><code class="language-js">// myLogger.log('message [string]', { key: 'values (optional)' })
myLogger.trace('entering computeStuff()...')
myLogger.verbose('Starting app...', { env: 'staging' })
myLogger.warn('Server timeout, will retry...', { timeoutMs: 2000, attemptCount: 3 })

// when logging an error, use the 'err' key in the details
} catch (err) {
	myLogger.error('Error processing X', { err })
}

// group API is cool so it's forwarded from Console for convenience
myLogger.group()
myLogger.groupCollapsed()
myLogger.groupEnd()
</code></pre>
	<p>Log levels:
		<span style="color: red;">fatal</span>,
		<span style="color: red;">emerg</span>,
		<span style="color: red;">alert</span>,
		<span style="color: red;">crit</span>,
		<span style="color: red;">error</span>,
		<span style="color: yellow;">warn(ing)</span>,
		<span style="color: cyan;">notice</span>,
		<span style="color: cyan;">info</span>,
		<span style="color: cyan;">verbose</span>,
		<span style="color: grey;">log</span>,
		<span style="color: grey;">debug</span>,
		<span style="color: grey;">trace</span>,
		<span style="color: grey;">silly</span>
</section>

<section id="demo">
	<h2>Demo</h2>
	<h3>Live demo: Open the dev tools!</h3>
	<ul class="o⋄plain-list" style="padding-left: 1em;">
		<li>
			<details id="demo-all-levels">
				<summary>All levels...<button id="btn-demo-all-levels">Run</button></summary>
				<div>
					<p>Levels are compatible with all standard log systems (TODO list TODO link)</p>
					<img src="./demo-all-levels-20191101.png" />
				</div>
			</details>
		</li>
		<li>
			<details id="demo-basic">
				<summary>Basic usage...<button id="btn-demo-basic">Run</button></summary>
				<div>
					<p>Note that levels lower than warn are much more differentiables</p>
					<img src="./demo-usage-20191101.png" />
				</div>
			</details>
		</li>
		<li>
			<details id="demo-error">
				<summary>Errors...<button id="btn-demo-error">Run</button></summary>
				<div>
					<p>Correctly displaying errors is a first class feature, even when using lower levels.</p>
					<img src="./demo-errors-20191101.png" />
				</div>
			</details>
		</li>
		<li>
			<details id="demo-groups">
				<summary>Groups, lazy and auto-escape...<button id="btn-demo-groups">Run</button></summary>
				<div>
					<p class="o⋄color⁚secondary">(Browser only, node is not concerned.)</p>
					<p>Without this feature, errors may have been hidden in a collapsed group. Also useless groups with no contents are skipped.</p>
					<img src="./demo-groups-20191101.png" />
				</div>
			</details>
		</li>
	</ul>
	<h3>Screenshots</h3>
	<details>
		<summary>Firefox screenshot...</summary>
		<div>
			<img src="./screen-firefox-20191101.png" />
		</div>
	</details>
	<details>
		<summary>Chromium screenshot...</summary>
		<div>
			<p>Note how we compensate chromium's buggy "info" display:</p>
			<img src="./screen-chromium-20191101.png" />
		</div>
	</details>
	<details>
		<summary>Safari screenshot...</summary>
		<div>
			<img src="./screen-safari-20191101.png" />
		</div>
	</details>
	<details>
		<summary>IE and others screenshot...</summary>
		TODO
	</details>
	<details>
		<summary>Terminal / Node screenshot (dark)...</summary>
		<div>
			<img src="./screen-term-dark.png" />
			<img src="./screen-term-dark-alt.png" />
		</div>
	</details>
	<details>
		<summary>Terminal / Node screenshot (light)...</summary>
		<div>
			<img src="./screen-term-light.png" />
			<img src="./screen-term-light-alt.png" />
		</div>
	</details>
</section>

<section id="advocacy">
	<h2>Advocacy</h2>
	<p>
		Killer features:
	</p>
	<ul>
		<li>nicer, more readable display</li>
		<li>Coherent API <span class="o⋄color⁚secondary">only 2 params</span></li>
		<li>TypeScript first</li>
		<li>Isomorphic <span class="o⋄color⁚secondary">in an non-bloated way</span></li>
		<li>Aimed first at logging locally (terminal or devtools) but optionally streamable <span class="o⋄color⁚secondary">ex. node server</span></li>
		<li>Favorably open source <span class="o⋄color⁚secondary">(UNLICENSE)</span></li>
		<li>Many many niceties…<span class="o⋄color⁚secondary"> (keep reading)</span></li>
	</ul>
</section>

<section id="setup">
	<h2>Setup</h2>

	recommend Full API
	<p>
		TODO
	</p>
</section>

<section id="FAQ">
	<h2>FAQ</h2>

	<details>
		<summary><strong>Is that used in production somewhere?</strong></summary>
		<div>
			<p>
				I, the author, am using this lib in production for my pet project TODO link.
			</p>
		</div>
	</details>

	<details>
		<summary><strong>Is it a drop-in replacement for Console?</strong></summary>
		<div>
			<p>
			No, as this logger is not accepting multiple arguments.
			</p>
			<p>
				Also, this logger encourages being semantic, keeping the console invocations for quick debugs.
				This way, you can keep your eslint rules forbidding using console.
			</p>
		</div>
	</details>

	<details>
		<summary><strong>What if I incorrectly call it like Console? (with more than 2 arguments)</strong></summary>
		<div>
			<p>
				If you're using TypeScript, it should tell you ✔
			</p>
			<p>
				If not, the lib will secretly try to handle it in an undocumented way.
				(undocumented because you shouldn't rely on it)
				Just be assured that any error object will be correctly detected ✔
			</p>
		</div>
	</details>

	<details>
		<summary id="faq-remote-stash"><strong>I'm writing a server, can I send the logs to a remote stash?</strong></summary>
		<div>
			<p>
				Yes. It's not a primary feature, but this logger took inspiration from Winston TODO link.
				Two possible solutions:
			</p>
			<ul>
				<li>If your remote stash is fed from your stdout, you may want to use a sink outputting JSON.
				TODO elaborate
				</li>
				<li>If your remote stash is an API, write your custom sink to intercept logs and send them to the remote location</li>
			</ul>
		</div>
	</details>

	<details>
		<summary><strong>Can we have child loggers?</strong></summary>
		<div>
			<p>
				I decided that this feature, while nice, was complicated to get right (should inherit log lovels? details? Dynamically?)
				and would greatly increase the complexity and bundle size.
			</p>
			<p>
				IMO a logger should have a "safe" and straightforward behavior, hence simplicity as a feature.
			</p>
		</div>
	</details>

	<details>
		<summary><strong>Are there any tradeoffs?</strong></summary>
		<div>
			<p>
				Yes, all solutions have tradeoffs. Here are the most notable one:
			</p>
			<ul>
				<li>For browsers: You no longer get the call site in the dev tools.</li>
				<li>Slower than Console.x for logged item, but faster for filtered out items</li>
				<li>If you're using this lib directly, no built-in mechanism to change the log level at run time. Please use TODO</li>
			</ul>
		</div>
	</details>
</section>

<section id="contributing">
	<h2>Contributing</h2>
	<p>
		TODO
	</p>
</section>

<section>
	<h2>Credits</h2>
	<ul>
		<li>npm</li>
		<li>GitHub</li>
		<li>netlify</li>
		<li>https://www.jsdelivr.com/</li>
		<li>https://prismjs.com/</li>
	</ul>
</section>
</article>

<script async importance="high" src="./index.ts"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.17.1/components/prism-core.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.17.1/plugins/autoloader/prism-autoloader.min.js"></script>

</body>
</html>
