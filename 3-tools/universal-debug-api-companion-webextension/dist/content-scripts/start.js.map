{"version":3,"sources":["../../../node_modules/tiny-invariant/dist/tiny-invariant.esm.js","common/consts/entry.ts","common/consts/content--start.ts","common/consts/index.ts","common/messages/report-usage.ts","common/messages/index.ts","content-scripts/lib-to-inject-1.ts","content-scripts/lib-to-inject-2.ts","content-scripts/start.ts"],"names":["isProduction","prefix","invariant","condition","message","Error"],"mappings":"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","file":"start.js","sourceRoot":"../src","sourcesContent":["var isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n  if (condition) {\n    return;\n  }\n\n  if (isProduction) {\n    throw new Error(prefix);\n  } else {\n    throw new Error(prefix + \": \" + (message || ''));\n  }\n}\n\nexport default invariant;\n","export const MSG_ENTRY = '🧩UWDT.v0' // TODO v1 one day!\n","export * from './entry'\nexport const LS_ROOT = '🧩UWDT' // !== UDA\nexport const LS_KEY_ENABLED = `${LS_ROOT}.enabled`\n","export const UNKNOWN_ORIGIN = '???'\n\nexport * from './entry'\nexport * from './content--start'\n","import { MSG_ENTRY } from '../consts/entry'\nimport { StringifiedJSON } from '../utils/stringified-json'\n\n////////////////////////////////////\n\nexport interface OverrideReport {\n\ttype: 'override'\n\tkey: string\n\tdefault_value_sjson: StringifiedJSON\n\texisting_override_sjson: null | StringifiedJSON,\n}\nexport interface LoggerReport { // TODO needed?\n\ttype: 'logger'\n}\nexport interface CommandReport {\n\ttype: 'command'\n}\nexport type Report = OverrideReport | LoggerReport | CommandReport\n\n////////////////////////////////////\n\nexport const MSG_TYPE__REPORT_DEBUG_API_USAGE = 'report-usage'\nexport function create_msg_report_debug_api_usage(reports: Report[]) {\n\treturn {\n\t\t[MSG_ENTRY]: {\n\t\t\ttype: MSG_TYPE__REPORT_DEBUG_API_USAGE,\n\t\t\treports,\n\t\t}\n\t}\n}\n","import { MSG_ENTRY } from '../consts'\nimport * as OriginState from '../state/origin'\nimport * as UIState from '../state/ui'\n\nexport const MSG_TYPE__TOGGLE_LIB_INJECTION = 'toggle-lib-injection'\nexport function create_msg_toggle_lib_injection() {\n\treturn {\n\t\t[MSG_ENTRY]: {\n\t\t\ttype: MSG_TYPE__TOGGLE_LIB_INJECTION,\n\t\t}\n\t}\n}\n\nexport const MSG_TYPE__REPORT_IS_LIB_INJECTED = 'report-is-lib-injected'\nexport function create_msg_report_is_lib_injected(url: string, is_injected: boolean) {\n\treturn {\n\t\t[MSG_ENTRY]: {\n\t\t\ttype: MSG_TYPE__REPORT_IS_LIB_INJECTED,\n\t\t\turl, // needed because this event may follow updated=loading which resets the url\n\t\t\tis_injected,\n\t\t}\n\t}\n}\n\nexport const MSG_TYPE__OVERRIDE_SPEC_CHANGED = 'change-override-spec'\nexport function create_msg_change_override_spec(key: string, partial: Readonly<Partial<OriginState.OverrideState>>) {\n\treturn {\n\t\t[MSG_ENTRY]: {\n\t\t\ttype: MSG_TYPE__OVERRIDE_SPEC_CHANGED,\n\t\t\tkey,\n\t\t\tpartial,\n\t\t}\n\t}\n}\n\nexport const MSG_TYPE__UPDATE_UI_STATE = 'update-ui-state'\nexport function create_msg_update_ui_state(state: Readonly<UIState.State>) {\n\treturn {\n\t\t[MSG_ENTRY]: {\n\t\t\ttype: MSG_TYPE__UPDATE_UI_STATE,\n\t\t\tstate,\n\t\t}\n\t}\n}\n\nexport const MSG_TYPE__UPDATE_LS_STATE = 'update-ls-state'\nexport function create_msg_update_ls_state(kv: Readonly<{ [k: string]: string | null }>) {\n\treturn {\n\t\t[MSG_ENTRY]: {\n\t\t\ttype: MSG_TYPE__UPDATE_LS_STATE,\n\t\t\tkv,\n\t\t}\n\t}\n}\n\nexport const MSG_TYPE__REQUEST_CURRENT_PAGE_RELOAD = 'request-current-page-reload'\nexport function create_msg_request_reload() {\n\treturn {\n\t\t[MSG_ENTRY]: {\n\t\t\ttype: MSG_TYPE__REQUEST_CURRENT_PAGE_RELOAD,\n\t\t}\n\t}\n}\n\nexport * from './report-usage'\n","\n// THIS FILE IS AUTO GENERATED!\n// This is a base64 version of the Universal Web Debug API:\n// https://github.com/Offirmo/offirmo-monorepo/tree/master/2-advanced/universal-debug-api-browser\n// bundled in a single file through this local file:\n// ../src/injected-libs/universal-debug-api-from-webext.ts\nconst lib = 'cGFyY2VsUmVxdWlyZT1mdW5jdGlvbihlLHIsdCxuKXt2YXIgaSxvPSJmdW5jdGlvbiI9PXR5cGVvZiBwYXJjZWxSZXF1aXJlJiZwYXJjZWxSZXF1aXJlLHU9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7ZnVuY3Rpb24gZih0LG4pe2lmKCFyW3RdKXtpZighZVt0XSl7dmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHBhcmNlbFJlcXVpcmUmJnBhcmNlbFJlcXVpcmU7aWYoIW4mJmkpcmV0dXJuIGkodCwhMCk7aWYobylyZXR1cm4gbyh0LCEwKTtpZih1JiYic3RyaW5nIj09dHlwZW9mIHQpcmV0dXJuIHUodCk7dmFyIGM9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrdCsiJyIpO3Rocm93IGMuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsY31wLnJlc29sdmU9ZnVuY3Rpb24ocil7cmV0dXJuIGVbdF1bMV1bcl18fHJ9LHAuY2FjaGU9e307dmFyIGw9clt0XT1uZXcgZi5Nb2R1bGUodCk7ZVt0XVswXS5jYWxsKGwuZXhwb3J0cyxwLGwsbC5leHBvcnRzLHRoaXMpfXJldHVybiByW3RdLmV4cG9ydHM7ZnVuY3Rpb24gcChlKXtyZXR1cm4gZihwLnJlc29sdmUoZSkpfX1mLmlzUGFyY2VsUmVxdWlyZT0hMCxmLk1vZHVsZT1mdW5jdGlvbihlKXt0aGlzLmlkPWUsdGhpcy5idW5kbGU9Zix0aGlzLmV4cG9ydHM9e319LGYubW9kdWxlcz1lLGYuY2FjaGU9cixmLnBhcmVudD1vLGYucmVnaXN0ZXI9ZnVuY3Rpb24ocix0KXtlW3JdPVtmdW5jdGlvbihlLHIpe3IuZXhwb3J0cz10fSx7fV19O2Zvcih2YXIgYz0wO2M8dC5sZW5ndGg7YysrKXRyeXtmKHRbY10pfWNhdGNoKGUpe2l8fChpPWUpfWlmKHQubGVuZ3RoKXt2YXIgbD1mKHRbdC5sZW5ndGgtMV0pOyJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9bDoiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShmdW5jdGlvbigpe3JldHVybiBsfSk6biYmKHRoaXNbbl09bCl9aWYocGFyY2VsUmVxdWlyZT1mLGkpdGhyb3cgaTtyZXR1cm4gZn0oeyJZelB1IjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewp2YXIgZ2xvYmFsID0gYXJndW1lbnRzWzNdOwp2YXIgZT1hcmd1bWVudHNbM107T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPXt9O2Z1bmN0aW9uIGkoKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczp2b2lkIDAhPT1lP2U6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnZvaWQgMCE9PXRoaXM/dGhpczpvfWV4cG9ydHMuZ2V0R2xvYmFsVGhpcz1pOwp9LHt9XSwiUXJXZCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHsKInVzZSBzdHJpY3QiO2Z1bmN0aW9uIGUoZSl7dmFyIHQscj0hMTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIG49W10sbz0wO288YXJndW1lbnRzLmxlbmd0aDtvKyspbltvXT1hcmd1bWVudHNbb107cmV0dXJuIHJ8fCh0PWUuYXBwbHkodm9pZCAwLG4pLHI9ITApLHR9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxleHBvcnRzLnRpbnlfc2luZ2xldG9uPWUsZXhwb3J0cy5kZWZhdWx0PWU7Cn0se31dLCJ5Wmd0IjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewoidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGV4cG9ydHMuREVGQVVMVF9MT0dfTEVWRUw9ImVycm9yIixleHBvcnRzLkRFRkFVTFRfTE9HR0VSX0tFWT0iIjsKfSx7fV0sIkZDTUUiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7CiJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBlKGUpe2Zvcih2YXIgciBpbiBlKWV4cG9ydHMuaGFzT3duUHJvcGVydHkocil8fChleHBvcnRzW3JdPWVbcl0pfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxleHBvcnRzLkxJQj0iQG9mZmlybW8vcHJhY3RpY2FsLWxvZ2dlci1jb3JlIixleHBvcnRzLkxPR19MRVZFTF9UT19JTlRFR0VSPXtmYXRhbDoxLGVtZXJnOjIsYWxlcnQ6MTAsY3JpdDoyMCxlcnJvcjozMCx3YXJuaW5nOjQwLHdhcm46NDAsbm90aWNlOjQ1LGluZm86NTAsdmVyYm9zZTo3MCxsb2c6ODAsZGVidWc6ODEsdHJhY2U6OTAsc2lsbHk6MTAwfSxleHBvcnRzLkFMTF9MT0dfTEVWRUxTPU9iamVjdC5rZXlzKGV4cG9ydHMuTE9HX0xFVkVMX1RPX0lOVEVHRVIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZX0pLnNvcnQoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZXhwb3J0cy5MT0dfTEVWRUxfVE9fSU5URUdFUltlXS1leHBvcnRzLkxPR19MRVZFTF9UT19JTlRFR0VSW3JdfSksZXhwb3J0cy5MT0dfTEVWRUxfVE9fSFVNQU49T2JqZWN0LmZyb21FbnRyaWVzKGV4cG9ydHMuQUxMX0xPR19MRVZFTFMubWFwKGZ1bmN0aW9uKGUpe3JldHVybltlLHtlbToiZW1lcmdlbmN5Iix3YToid2FybiJ9W2Uuc2xpY2UoMCwxKV18fGVdfSkpLGUocmVxdWlyZSgiLi9jb25zdHMtYmFzZSIpKTsKfSx7Ii4vY29uc3RzLWJhc2UiOiJ5Wmd0In1dLCJHcVFOIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewoidXNlIHN0cmljdCI7dmFyIGU9dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsbz0xLHQ9YXJndW1lbnRzLmxlbmd0aDtvPHQ7bysrKWZvcih2YXIgbiBpbiByPWFyZ3VtZW50c1tvXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSl7dmFyIHIsbyx0O3JldHVybiEhKChudWxsPT09KHI9ZSl8fHZvaWQgMD09PXI/dm9pZCAwOnIubmFtZSkmJihudWxsPT09KG89ZSl8fHZvaWQgMD09PW8/dm9pZCAwOm8ubWVzc2FnZSkmJihudWxsPT09KHQ9ZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc3RhY2spKX1mdW5jdGlvbiBvKG8pe3ZhciB0LG49W10scz17fSxpPXZvaWQgMDtBcnJheS5mcm9tKG8pLmZvckVhY2goZnVuY3Rpb24obyl7byYmKHIobyk/aXx8KGk9byk6KCFpJiZyKG8uZXJyKSYmKGk9by5lcnIpLCJvYmplY3QiIT10eXBlb2Ygbz9uLnB1c2goU3RyaW5nKG8pKTpzPWUoZSh7fSxzKSxvKSkpfSksInN0cmluZyIhPXR5cGVvZiBzLm1lc3NhZ2V8fG4ubGVuZ3RofHwobi5wdXNoKHMubWVzc2FnZSksZGVsZXRlIHMubWVzc2FnZSk7dmFyIGE9bi5qb2luKCIgIil8fChudWxsPT09KHQ9aSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubWVzc2FnZSl8fCIobm8gbWVzc2FnZSkiO3JldHVybiBpP3MuZXJyPWk6ZGVsZXRlIHMuZXJyLFthLHNdfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxleHBvcnRzLmxvb2tzTGlrZUFuRXJyb3I9cixleHBvcnRzLm5vcm1hbGl6ZUFyZ3VtZW50cz1vOwp9LHt9XSwiSWdSTyI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHsKInVzZSBzdHJpY3QiO3ZhciBlPXRoaXMmJnRoaXMuX19hc3NpZ258fGZ1bmN0aW9uKCl7cmV0dXJuKGU9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByLHQ9MSxuPWFyZ3VtZW50cy5sZW5ndGg7dDxuO3QrKylmb3IodmFyIG8gaW4gcj1hcmd1bWVudHNbdF0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbykmJihlW29dPXJbb10pO3JldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxyPXRoaXMmJnRoaXMuX19yZXN0fHxmdW5jdGlvbihlLHIpe3ZhciB0PXt9O2Zvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZyLmluZGV4T2Yobik8MCYmKHRbbl09ZVtuXSk7aWYobnVsbCE9ZSYmImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPTA7Zm9yKG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtvPG4ubGVuZ3RoO28rKylyLmluZGV4T2YobltvXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsbltvXSkmJih0W25bb11dPWVbbltvXV0pfXJldHVybiB0fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHQ9cmVxdWlyZSgiLi9jb25zdHMiKSxuPXJlcXVpcmUoIi4vbm9ybWFsaXplLWFyZ3MiKTtmdW5jdGlvbiBvKGUpe2lmKCF0LkFMTF9MT0dfTEVWRUxTLmluY2x1ZGVzKGUpKXRocm93IG5ldyBFcnJvcigiWyIrdC5MSUIrJ10gTm90IGEgdmFsaWQgbG9nIGxldmVsOiAiJytlKyciIScpfWZ1bmN0aW9uIGkoaSxsKXt2YXIgdT12b2lkIDA9PT1pP3t9OmksYT11Lm5hbWUscz12b2lkIDA9PT1hP3QuREVGQVVMVF9MT0dHRVJfS0VZOmEsYz11LnN1Z2dlc3RlZExldmVsLGY9dm9pZCAwPT09Yz90LkRFRkFVTFRfTE9HX0xFVkVMOmMsdj11LmZvcmNlZExldmVsLEw9dS5jb21tb25EZXRhaWxzLHA9dm9pZCAwPT09TD97fTpMO3ZvaWQgMD09PWwmJihsPWNvbnNvbGUubG9nKTt2YXIgbT17bmFtZTpzLGxldmVsOnZ8fGYsY29tbW9uRGV0YWlsczplKHt9LHApLG91dHB1dEZuOmx9LEU9MTAwLE89dC5BTExfTE9HX0xFVkVMUy5yZWR1Y2UoZnVuY3Rpb24oaSxsKXtyZXR1cm4gaVtsXT1mdW5jdGlvbihpLHUpe2lmKGZ1bmN0aW9uKGUpe3JldHVybiBvKGUpLHQuTE9HX0xFVkVMX1RPX0lOVEVHRVJbZV08PUV9KGwpKXt2YXIgYT1uLm5vcm1hbGl6ZUFyZ3VtZW50cyhhcmd1bWVudHMpLGM9YVswXSxmPWFbMV07bS5vdXRwdXRGbihmdW5jdGlvbih0LG4sbyl7dmFyIGk9by5lcnIsbD1yKG8sWyJlcnIiXSksdT17bGV2ZWw6dCxuYW1lOnMsbXNnOm4sdGltZTorbmV3IERhdGUsZGV0YWlsczplKGUoe30sbS5jb21tb25EZXRhaWxzKSxsKX07cmV0dXJuIGkmJih1LmVycj1pKSx1fShsLGMsZikpfX0saX0se3NldExldmVsOmQsZ2V0TGV2ZWw6XyxhZGRDb21tb25EZXRhaWxzOmZ1bmN0aW9uKHIpe2lmKHIuZXJyKXRocm93IG5ldyBFcnJvcigiWyIrdC5MSUIrJ10gQ2FuXCd0IHNldCByZXNlcnZlZCBwcm9wZXJ0eSAiZXJyIiEnKTttLmNvbW1vbkRldGFpbHM9ZShlKHt9LG0uY29tbW9uRGV0YWlscykscil9LGdyb3VwOmZ1bmN0aW9uKCl7fSxncm91cENvbGxhcHNlZDpmdW5jdGlvbigpe30sZ3JvdXBFbmQ6ZnVuY3Rpb24oKXt9fSk7ZnVuY3Rpb24gZChlKXtvKGUpLG0ubGV2ZWw9ZSxFPXQuTE9HX0xFVkVMX1RPX0lOVEVHRVJbZV19ZnVuY3Rpb24gXygpe3JldHVybiBtLmxldmVsfXJldHVybiBkKF8oKSksT31leHBvcnRzLmNoZWNrTGV2ZWw9byxleHBvcnRzLmNyZWF0ZT1pOwp9LHsiLi9jb25zdHMiOiJGQ01FIiwiLi9ub3JtYWxpemUtYXJncyI6IkdxUU4ifV0sIkJ0aUIiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7CiJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7Cn0se31dLCJxQUhNIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewoidXNlIHN0cmljdCI7ZnVuY3Rpb24gZShlKXtmb3IodmFyIHIgaW4gZSlleHBvcnRzLmhhc093blByb3BlcnR5KHIpfHwoZXhwb3J0c1tyXT1lW3JdKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9cmVxdWlyZSgiLi9jb3JlIik7ZXhwb3J0cy5jcmVhdGVMb2dnZXI9ci5jcmVhdGUsZShyZXF1aXJlKCJAb2ZmaXJtby9wcmFjdGljYWwtbG9nZ2VyLXR5cGVzIikpO3ZhciBMPXJlcXVpcmUoIi4vY29uc3RzIik7ZXhwb3J0cy5BTExfTE9HX0xFVkVMUz1MLkFMTF9MT0dfTEVWRUxTLGV4cG9ydHMuTE9HX0xFVkVMX1RPX0lOVEVHRVI9TC5MT0dfTEVWRUxfVE9fSU5URUdFUixleHBvcnRzLkxPR19MRVZFTF9UT19IVU1BTj1MLkxPR19MRVZFTF9UT19IVU1BTixleHBvcnRzLkRFRkFVTFRfTE9HX0xFVkVMPUwuREVGQVVMVF9MT0dfTEVWRUwsZXhwb3J0cy5ERUZBVUxUX0xPR0dFUl9LRVk9TC5ERUZBVUxUX0xPR0dFUl9LRVk7dmFyIEU9cmVxdWlyZSgiLi9jb3JlIik7ZXhwb3J0cy5jaGVja0xldmVsPUUuY2hlY2tMZXZlbCxlKHJlcXVpcmUoIi4vbm9ybWFsaXplLWFyZ3MiKSk7Cn0seyIuL2NvcmUiOiJJZ1JPIiwiQG9mZmlybW8vcHJhY3RpY2FsLWxvZ2dlci10eXBlcyI6IkJ0aUIiLCIuL2NvbnN0cyI6IkZDTUUiLCIuL25vcm1hbGl6ZS1hcmdzIjoiR3FRTiJ9XSwiSXRPaCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHsKInVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcj1yZXF1aXJlKCJAb2ZmaXJtby9wcmFjdGljYWwtbG9nZ2VyLWNvcmUiKTtleHBvcnRzLkxFVkVMX1RPX0NPTlNPTEVfTUVUSE9EPXtmYXRhbDoiZXJyb3IiLGVtZXJnOiJlcnJvciIsYWxlcnQ6ImVycm9yIixjcml0OiJlcnJvciIsZXJyb3I6ImVycm9yIix3YXJuaW5nOiJ3YXJuIix3YXJuOiJ3YXJuIixub3RpY2U6ImluZm8iLGluZm86ImluZm8iLHZlcmJvc2U6ImluZm8iLGxvZzoibG9nIixkZWJ1ZzoiZGVidWciLHRyYWNlOiJkZWJ1ZyIsc2lsbHk6ImRlYnVnIn07dmFyIGU9NTtmdW5jdGlvbiBvKG8pe3ZhciBpPXIuTE9HX0xFVkVMX1RPX0hVTUFOW29dO3JldHVybiBpPShpKyIgICAgICAgICAiKS5zbGljZSgwLGUpfWV4cG9ydHMudG9fdW5pZm9ybV9sZXZlbD1vOwp9LHsiQG9mZmlybW8vcHJhY3RpY2FsLWxvZ2dlci1jb3JlIjoicUFITSJ9XSwiZmc3NCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHsKInVzZSBzdHJpY3QiO3ZhciByPXRoaXMmJnRoaXMuX19zcHJlYWRBcnJheXN8fGZ1bmN0aW9uKCl7Zm9yKHZhciByPTAsbz0wLGU9YXJndW1lbnRzLmxlbmd0aDtvPGU7bysrKXIrPWFyZ3VtZW50c1tvXS5sZW5ndGg7dmFyIHQ9QXJyYXkociksbj0wO2ZvcihvPTA7bzxlO28rKylmb3IodmFyIGE9YXJndW1lbnRzW29dLHM9MCxsPWEubGVuZ3RoO3M8bDtzKyssbisrKXRbbl09YVtzXTtyZXR1cm4gdH07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPSJmb250LWZhbWlseTogIitbIi1hcHBsZS1zeXN0ZW0iLCJCbGlua01hY1N5c3RlbUZvbnQiLCJub3RvIiwicm9ib3RvIiwic2Fucy1zZXJpZiJdLmpvaW4oIiwgIik7ZXhwb3J0cy5GT05UX0ZBTUlMWV9CRVRURVJfUFJPUE9SVElPTkFMPW87dmFyIGU9ImZvbnQtZmFtaWx5OiAiK1snIkZpcmEgQ29kZSInLCJNZW5sbyIsIkNvbnNvbGFzIiwibW9ub3NwYWNlIl0uam9pbigiLCAiKTtleHBvcnRzLkZPTlRfRkFNSUxZX0JFVFRFUl9NT05PU1BBQ0U9ZTt2YXIgdD17ZmF0YWw6IiIsZW1lcmc6IiIsYWxlcnQ6IiIsY3JpdDoiIixlcnJvcjoiIix3YXJuaW5nOiIiLHdhcm46IiIsbm90aWNlOiJjb2xvcjogIzY1OUFEMiIsaW5mbzoiY29sb3I6ICM2NTlBRDIiLHZlcmJvc2U6ImNvbG9yOiAjNjU5QUQyIixsb2c6IiIsZGVidWc6ImNvbG9yOiAjOUFBMkFBIix0cmFjZToiY29sb3I6ICM5QUEyQUEiLHNpbGx5OiJjb2xvcjogIzlBQTJBQSJ9O2Z1bmN0aW9uIG4obyxlKXtmb3IodmFyIHQ9W10sbj0yO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTJdPWFyZ3VtZW50c1tuXTt2YXIgYT1vWzBdLHM9by5zbGljZSgxKTtyZXR1cm4gcihbYSsiJWMiK2VdLHMsW3Quam9pbigiOyIpKyI7Il0pfWV4cG9ydHMuTEVWRUxfVE9fQ09MT1JfU1RZTEU9dCxleHBvcnRzLmFkZF9zdHlsZWRfc3RyaW5nPW47Cn0se31dLCJhNzBpIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewoidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBfPXJlcXVpcmUoIi4uL2NvbW1vbiIpLE89cmVxdWlyZSgiLi9jb21tb24iKTtmdW5jdGlvbiBlKF8pe3JldHVybiJlcnJvciI9PT1ffXZhciBMPSJmb250LXNpemU6IDEwcHgiO2V4cG9ydHMuc2luaz1mdW5jdGlvbihUKXt2YXIgdD1ULmxldmVsLEU9VC5uYW1lLHI9VC5tc2cscz1ULmVycixuPVQuZGV0YWlscyxkPV8uTEVWRUxfVE9fQ09OU09MRV9NRVRIT0RbdF0saT1jb25zb2xlW2RdLFI9WyIiXTtlKGQpfHwoUj1PLmFkZF9zdHlsZWRfc3RyaW5nKFIsIuKWtyIsTy5MRVZFTF9UT19DT0xPUl9TVFlMRVt0XSwiZm9udC1zaXplOiA4cHgiLE8uRk9OVF9GQU1JTFlfQkVUVEVSX1BST1BPUlRJT05BTCwibWFyZ2luLWxlZnQ6IC4zNWVtIiwibWFyZ2luLXJpZ2h0OiAuNWVtIikpLFI9Ty5hZGRfc3R5bGVkX3N0cmluZyhSLCJbIixPLkxFVkVMX1RPX0NPTE9SX1NUWUxFW3RdLEwsTy5GT05UX0ZBTUlMWV9CRVRURVJfUFJPUE9SVElPTkFMKSxSPU8uYWRkX3N0eWxlZF9zdHJpbmcoUixfLnRvX3VuaWZvcm1fbGV2ZWwodCksTy5MRVZFTF9UT19DT0xPUl9TVFlMRVt0XSxMLE8uRk9OVF9GQU1JTFlfQkVUVEVSX01PTk9TUEFDRSksUj1PLmFkZF9zdHlsZWRfc3RyaW5nKFIsIl0gIixPLkxFVkVMX1RPX0NPTE9SX1NUWUxFW3RdLEwsTy5GT05UX0ZBTUlMWV9CRVRURVJfUFJPUE9SVElPTkFMKSxSPU8uYWRkX3N0eWxlZF9zdHJpbmcoUiwiIiwiZm9udC1zaXplOiB1bnNldCIpLEUmJihSPU8uYWRkX3N0eWxlZF9zdHJpbmcoUixFKyIg4oC6ICIsTy5MRVZFTF9UT19DT0xPUl9TVFlMRVt0XSxPLkZPTlRfRkFNSUxZX0JFVFRFUl9QUk9QT1JUSU9OQUwpKTt2YXIgbz1SPU8uYWRkX3N0eWxlZF9zdHJpbmcoUixyLE8uTEVWRUxfVE9fQ09MT1JfU1RZTEVbdF0sTy5GT05UX0ZBTUlMWV9CRVRURVJfUFJPUE9SVElPTkFMKTtPYmplY3Qua2V5cyhuKS5sZW5ndGgmJm8ucHVzaChuKSxzJiZvLnB1c2gocyksaS5hcHBseSh2b2lkIDAsbyl9LGV4cG9ydHMuZGVmYXVsdD1leHBvcnRzLnNpbms7Cn0seyIuLi9jb21tb24iOiJJdE9oIiwiLi9jb21tb24iOiJmZzc0In1dLCJYVTNvIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewoidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBfPXJlcXVpcmUoIi4uL2NvbW1vbiIpLE89cmVxdWlyZSgiLi9jb21tb24iKTtmdW5jdGlvbiBlKF8pe3JldHVybiJlcnJvciI9PT1ffHwid2FybiI9PT1ffXZhciBMPSJmb250LXNpemU6IDhweCIsdD0iZm9udC1zaXplOiAxMXB4IjtleHBvcnRzLnNpbms9ZnVuY3Rpb24oVCl7dmFyIEU9VC5sZXZlbCxyPVQubmFtZSxzPVQubXNnLG49VC5lcnIsZD1ULmRldGFpbHMsaT1fLkxFVkVMX1RPX0NPTlNPTEVfTUVUSE9EW0VdLG89Y29uc29sZVtpXSxSPVsiIl07ZShpKXx8KFI9Ty5hZGRfc3R5bGVkX3N0cmluZyhSLCLilrciLE8uTEVWRUxfVE9fQ09MT1JfU1RZTEVbRV0sImZvbnQtc2l6ZTogOHB4IixPLkZPTlRfRkFNSUxZX0JFVFRFUl9QUk9QT1JUSU9OQUwsIm1hcmdpbi1sZWZ0OiAuMWVtIiwibWFyZ2luLXJpZ2h0OiAuMmVtIikpLFI9Ty5hZGRfc3R5bGVkX3N0cmluZyhSLCJbIixPLkxFVkVMX1RPX0NPTE9SX1NUWUxFW0VdLEwsTy5GT05UX0ZBTUlMWV9CRVRURVJfUFJPUE9SVElPTkFMKSxSPU8uYWRkX3N0eWxlZF9zdHJpbmcoUixfLnRvX3VuaWZvcm1fbGV2ZWwoRSksTy5MRVZFTF9UT19DT0xPUl9TVFlMRVtFXSxMLE8uRk9OVF9GQU1JTFlfQkVUVEVSX01PTk9TUEFDRSksUj1PLmFkZF9zdHlsZWRfc3RyaW5nKFIsIl0gIixPLkxFVkVMX1RPX0NPTE9SX1NUWUxFW0VdLEwsTy5GT05UX0ZBTUlMWV9CRVRURVJfUFJPUE9SVElPTkFMKSxSPU8uYWRkX3N0eWxlZF9zdHJpbmcoUiwiIiwiZm9udC1zaXplOiB1bnNldCIpLHImJihSPU8uYWRkX3N0eWxlZF9zdHJpbmcoUixyKyIg4oC6ICIsTy5MRVZFTF9UT19DT0xPUl9TVFlMRVtFXSxPLkZPTlRfRkFNSUxZX0JFVFRFUl9QUk9QT1JUSU9OQUwsdCkpO3ZhciBhPVI9Ty5hZGRfc3R5bGVkX3N0cmluZyhSLHMsTy5MRVZFTF9UT19DT0xPUl9TVFlMRVtFXSxPLkZPTlRfRkFNSUxZX0JFVFRFUl9QUk9QT1JUSU9OQUwsdCk7T2JqZWN0LmtleXMoZCkubGVuZ3RoJiZhLnB1c2goZCksbiYmYS5wdXNoKG4pLG8uYXBwbHkodm9pZCAwLGEpfSxleHBvcnRzLmRlZmF1bHQ9ZXhwb3J0cy5zaW5rOwp9LHsiLi4vY29tbW9uIjoiSXRPaCIsIi4vY29tbW9uIjoiZmc3NCJ9XSwieVNxMiI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHsKInVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgXz1yZXF1aXJlKCIuLi9jb21tb24iKSxPPXJlcXVpcmUoIi4vY29tbW9uIik7ZnVuY3Rpb24gZShfLE8pe3JldHVybiBPfHwiZXJyb3IiPT09X312YXIgTD0iZm9udC1zaXplOiA5cHgiO2V4cG9ydHMuc2luaz1mdW5jdGlvbihUKXt2YXIgdD1ULmxldmVsLEU9VC5uYW1lLHI9VC5tc2cscz1ULmVycixuPVQuZGV0YWlscyxkPV8uTEVWRUxfVE9fQ09OU09MRV9NRVRIT0RbdF0saT1jb25zb2xlW2RdLFI9WyIiXTtlKGQsbil8fChSPU8uYWRkX3N0eWxlZF9zdHJpbmcoUiwi4pa3IixPLkxFVkVMX1RPX0NPTE9SX1NUWUxFW3RdLCJmb250LXNpemU6IDEwcHgiLE8uRk9OVF9GQU1JTFlfQkVUVEVSX1BST1BPUlRJT05BTCwibWFyZ2luLWxlZnQ6IC4xNWVtIiwibWFyZ2luLXJpZ2h0OiAuNGVtIikpLFI9Ty5hZGRfc3R5bGVkX3N0cmluZyhSLCJbIixPLkxFVkVMX1RPX0NPTE9SX1NUWUxFW3RdLEwsTy5GT05UX0ZBTUlMWV9CRVRURVJfUFJPUE9SVElPTkFMKSxSPU8uYWRkX3N0eWxlZF9zdHJpbmcoUixfLnRvX3VuaWZvcm1fbGV2ZWwodCksTy5MRVZFTF9UT19DT0xPUl9TVFlMRVt0XSxMLE8uRk9OVF9GQU1JTFlfQkVUVEVSX01PTk9TUEFDRSksUj1PLmFkZF9zdHlsZWRfc3RyaW5nKFIsIl0gIixPLkxFVkVMX1RPX0NPTE9SX1NUWUxFW3RdLEwsTy5GT05UX0ZBTUlMWV9CRVRURVJfUFJPUE9SVElPTkFMKSxSPU8uYWRkX3N0eWxlZF9zdHJpbmcoUiwiIiwiZm9udC1zaXplOiB1bnNldCIpLEUmJihSPU8uYWRkX3N0eWxlZF9zdHJpbmcoUixFKyIg4oC6ICIsTy5MRVZFTF9UT19DT0xPUl9TVFlMRVt0XSxPLkZPTlRfRkFNSUxZX0JFVFRFUl9QUk9QT1JUSU9OQUwpKTt2YXIgbz1SPU8uYWRkX3N0eWxlZF9zdHJpbmcoUixyLE8uTEVWRUxfVE9fQ09MT1JfU1RZTEVbdF0sTy5GT05UX0ZBTUlMWV9CRVRURVJfUFJPUE9SVElPTkFMKTtPYmplY3Qua2V5cyhuKS5sZW5ndGgmJm8ucHVzaChuKSxzJiZvLnB1c2gocyksaS5hcHBseSh2b2lkIDAsbyl9LGV4cG9ydHMuZGVmYXVsdD1leHBvcnRzLnNpbms7Cn0seyIuLi9jb21tb24iOiJJdE9oIiwiLi9jb21tb24iOiJmZzc0In1dLCJlYlVpIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewoidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBlPXJlcXVpcmUoIi4vY29tbW9uIik7ZnVuY3Rpb24gcihyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9e30pLGZ1bmN0aW9uKHIpe3ZhciBvPXIubGV2ZWwsdD1yLm5hbWUscz1yLm1zZyx1PXIuZXJyLGw9ci5kZXRhaWxzLG49ZS5MRVZFTF9UT19DT05TT0xFX01FVEhPRFtvXSxpPWNvbnNvbGVbbl0scD1bIlsiLGUudG9fdW5pZm9ybV9sZXZlbChvKSwiXSAiXTt0JiZwLnB1c2godCsiIOKAuiAiKSxwLnB1c2gocyk7dmFyIGE9cDtPYmplY3Qua2V5cyhsKS5sZW5ndGgmJmEucHVzaChsKSx1JiZhLnB1c2godSksaS5hcHBseSh2b2lkIDAsYSl9fWV4cG9ydHMuZGVmYXVsdD1yOwp9LHsiLi9jb21tb24iOiJJdE9oIn1dLCJqdEs3IjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewoidXNlIHN0cmljdCI7dmFyIGU9dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciByPWUocmVxdWlyZSgiLi9hZHZhbmNlZC9maXJlZm94IikpLHQ9ZShyZXF1aXJlKCIuL2FkdmFuY2VkL2Nocm9taXVtIikpLGk9ZShyZXF1aXJlKCIuL2FkdmFuY2VkL3NhZmFyaSIpKSx1PWUocmVxdWlyZSgiLi9uby1jc3MiKSk7ZnVuY3Rpb24gYSgpe3RyeXtpZih3aW5kb3cuSW5zdGFsbFRyaWdnZXIpcmV0dXJuImZpcmVmb3giO2lmKHdpbmRvdy5BcHBsZVBheVNlc3Npb24pcmV0dXJuInNhZmFyaSI7aWYod2luZG93LmNocm9tZSlyZXR1cm4iY2hyb21pdW0ifWNhdGNoKGUpe31yZXR1cm4ib3RoZXIifWZ1bmN0aW9uIG4oZSl7aWYodm9pZCAwPT09ZSYmKGU9e30pLCExPT09ZS51c2VDc3MpcmV0dXJuIHUuZGVmYXVsdChlKTtzd2l0Y2goZS5leHBsaWNpdEJyb3dzZXJ8fGEoKSl7Y2FzZSJmaXJlZm94IjpyZXR1cm4gci5kZWZhdWx0O2Nhc2Uic2FmYXJpIjpyZXR1cm4gaS5kZWZhdWx0O2Nhc2UiY2hyb21pdW0iOnJldHVybiB0LmRlZmF1bHQ7ZGVmYXVsdDpyZXR1cm4gdS5kZWZhdWx0KGUpfX1leHBvcnRzLmNyZWF0ZT1uOwp9LHsiLi9hZHZhbmNlZC9maXJlZm94IjoiYTcwaSIsIi4vYWR2YW5jZWQvY2hyb21pdW0iOiJYVTNvIiwiLi9hZHZhbmNlZC9zYWZhcmkiOiJ5U3EyIiwiLi9uby1jc3MiOiJlYlVpIn1dLCJRcXp6IjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewoidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPVsiZGVidWciLCJsb2ciLCJpbmZvIiwid2FybiIsImVycm9yIiwiZ3JvdXAiLCJncm91cENvbGxhcHNlZCIsImdyb3VwRW5kIl0sZT0hMTtmdW5jdGlvbiBsKGwpe3ZhciByPXZvaWQgMD09PWw/e306bCxuPXIudW5jb2xsYXBzZV9sZXZlbCxwPXZvaWQgMD09PW4/Indhcm4iOm4sdD1yLmxhenksdT12b2lkIDA9PT10fHx0LGE9ci5vcmlnaW5hbF9jb25zb2xlLGQ9dm9pZCAwPT09YT9jb25zb2xlOmE7ZSYmY29uc29sZS5sb2coImluc3RhbGwiLHt1bmNvbGxhcHNlX2xldmVsOnAsbGF6eTp1fSk7dmFyIGc9W10saT0hMSxzPXt9O2Z1bmN0aW9uIGYoKXtmb3IodmFyIG89W10sbD0wO2w8YXJndW1lbnRzLmxlbmd0aDtsKyspb1tsXT1hcmd1bWVudHNbbF07ZSYmcy5sb2coIj4+PiBiZWZvcmUgZ3JvdXBFbmQiLHtsYXp5OnUsZGVwdGg6Zy5sZW5ndGh9LCciJytvWzBdKyciJyk7dmFyIHI9Zy5wb3AoKTtyJiZyLmlzX2VmZmVjdGl2ZSYmKGk9ITAscy5ncm91cEVuZC5hcHBseShzLG8pLGk9ITEpLGUmJnMubG9nKCI8PDwgYWZ0ZXIgZ3JvdXBFbmQiLHtsYXp5OnUsZGVwdGg6Zy5sZW5ndGh9KX1mdW5jdGlvbiBjKG8sbCl7Zm9yKHZhciByPVtdLG49MjtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXJbbi0yXT1hcmd1bWVudHNbbl07aWYoaSlyZXR1cm4gby5hcHBseSh2b2lkIDAscik7aWYoZSYmbygiPj4+IGJlZm9yZSBvdXRwdXQiLHtkZXB0aDpnLmxlbmd0aH0sJyInK3JbMF0rJyInKSxnLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49ci5pc19lZmZlY3RpdmUscD1yLmlzX2RlcGxveWVkLHQ9ci5wYXJhbXM7bnx8KGUmJm8oIi0tLSBsYXp5IGNhbGwiKSxsfHxwPyhpPSEwLHMuZ3JvdXAuYXBwbHkocyx0KSxpPSExLHIuaXNfZGVwbG95ZWQ9ITApOihpPSEwLHMuZ3JvdXBDb2xsYXBzZWQuYXBwbHkocyx0KSxpPSExLHIuaXNfZGVwbG95ZWQ9ITEpLHIuaXNfZWZmZWN0aXZlPSEwKX0pLGUmJm8oIi0tLSBvdXRwdXQiKSxsKWZvcih2YXIgcD1nLmZpbmRJbmRleChmdW5jdGlvbihvKXtyZXR1cm4hby5pc19kZXBsb3llZH0pO3A+PTAmJmcubGVuZ3RoJiZnLmxlbmd0aD5wOylmKCkscy5kZWJ1ZygiKGZvcmNlZCBicmVhayBvdXQgb2YgZ3JvdXAg4oaRIGR1ZSB0byBlcnJvcikiKTtlJiZvKCItLS0gb3V0cHV0Iiksby5hcHBseSh2b2lkIDAsciksZSYmbygiPDw8YWZ0ZXIgb3V0cHV0Iix7ZGVwdGg6Zy5sZW5ndGh9KX1vLmZvckVhY2goZnVuY3Rpb24obyl7c1tvXT1kW29dfSksY29uc29sZS5ncm91cD1mdW5jdGlvbigpe2Zvcih2YXIgbz1bXSxsPTA7bDxhcmd1bWVudHMubGVuZ3RoO2wrKylvW2xdPWFyZ3VtZW50c1tsXTtlJiZzLmxvZygiPj4+IGJlZm9yZSBncm91cCIse2xhenk6dSxkZXB0aDpnLmxlbmd0aH0sJyInK29bMF0rJyInKSxnLnB1c2goe3BhcmFtczpvLGlzX2RlcGxveWVkOiEwLGlzX2VmZmVjdGl2ZTohdX0pLHV8fChpPSEwLHMuZ3JvdXAuYXBwbHkocyxvKSxpPSExKSxlJiZzLmxvZygiPDw8IGFmdGVyIGdyb3VwIix7ZGVwdGg6Zy5sZW5ndGh9KX0sY29uc29sZS5ncm91cENvbGxhcHNlZD1mdW5jdGlvbigpe2Zvcih2YXIgbz1bXSxsPTA7bDxhcmd1bWVudHMubGVuZ3RoO2wrKylvW2xdPWFyZ3VtZW50c1tsXTtlJiZzLmxvZygiPj4+IGJlZm9yZSBncm91cENvbGxhcHNlZCIse2xhenk6dSxkZXB0aDpnLmxlbmd0aH0sJyInK29bMF0rJyInKSxnLnB1c2goe3BhcmFtczpvLGlzX2RlcGxveWVkOiExLGlzX2VmZmVjdGl2ZTohdX0pLHV8fChpPSEwLHMuZ3JvdXBDb2xsYXBzZWQuYXBwbHkocyxvKSxpPSExKSxlJiZzLmxvZygiYWZ0ZXIgZ3JvdXBDb2xsYXBzZWQiLHtkZXB0aDpnLmxlbmd0aH0pfSxjb25zb2xlLmdyb3VwRW5kPWYsY29uc29sZS5kZWJ1Zz1jLmJpbmQobnVsbCxzLmRlYnVnLCExKSxjb25zb2xlLmxvZz1jLmJpbmQobnVsbCxzLmxvZywhMSksY29uc29sZS5pbmZvPWMuYmluZChudWxsLHMuaW5mbywhMSksY29uc29sZS53YXJuPWMuYmluZChudWxsLHMud2Fybiwid2FybiI9PT1wKSxjb25zb2xlLmVycm9yPWMuYmluZChudWxsLHMuZXJyb3IsITApfWV4cG9ydHMuaW1wcm92ZV9jb25zb2xlX2dyb3Vwcz1sLGV4cG9ydHMuZGVmYXVsdD1sOwp9LHt9XSwiUUdQZiI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHsKInVzZSBzdHJpY3QiO3ZhciByPXRoaXMmJnRoaXMuX19hc3NpZ258fGZ1bmN0aW9uKCl7cmV0dXJuKHI9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24ocil7Zm9yKHZhciBlLG89MSx0PWFyZ3VtZW50cy5sZW5ndGg7bzx0O28rKylmb3IodmFyIGkgaW4gZT1hcmd1bWVudHNbb10pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkmJihyW2ldPWVbaV0pO3JldHVybiByfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtmdW5jdGlvbiBlKHIpe2Zvcih2YXIgZSBpbiByKWV4cG9ydHMuaGFzT3duUHJvcGVydHkoZSl8fChleHBvcnRzW2VdPXJbZV0pfXZhciBvPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihyKXtyZXR1cm4gciYmci5fX2VzTW9kdWxlP3I6e2RlZmF1bHQ6cn19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgdD1vKHJlcXVpcmUoIkBvZmZpcm1vL3Rpbnktc2luZ2xldG9uIikpLGk9cmVxdWlyZSgiQG9mZmlybW8vcHJhY3RpY2FsLWxvZ2dlci1jb3JlIiksbj1yZXF1aXJlKCIuL3NpbmtzIikscz1vKHJlcXVpcmUoIi4vYmV0dGVyLWNvbnNvbGUtZ3JvdXBzL3ByYWN0aWNhbC1sb2dnZXIiKSksdT1jb25zb2xlLGE9dC5kZWZhdWx0KGZ1bmN0aW9uKHIpe3ImJnMuZGVmYXVsdCgpfSk7ZnVuY3Rpb24gcChlKXt2YXIgbyx0O3ZvaWQgMD09PWUmJihlPXt9KSxhKCExIT09KG51bGw9PT0obz1lLnNpbmtPcHRpb25zKXx8dm9pZCAwPT09bz92b2lkIDA6by5iZXR0ZXJHcm91cHMpKTt2YXIgcz0obnVsbD09PSh0PWUuc2lua09wdGlvbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNpbmspfHxuLmNyZWF0ZShlLnNpbmtPcHRpb25zKSxwPXUuZ3JvdXAsbD11Lmdyb3VwQ29sbGFwc2VkLGM9dS5ncm91cEVuZDtyZXR1cm4gcihyKHt9LGkuY3JlYXRlTG9nZ2VyKGUscykpLHtncm91cDpwLGdyb3VwQ29sbGFwc2VkOmwsZ3JvdXBFbmQ6Y30pfWV4cG9ydHMuY3JlYXRlTG9nZ2VyPXAsZShyZXF1aXJlKCJAb2ZmaXJtby9wcmFjdGljYWwtbG9nZ2VyLXR5cGVzIikpO3ZhciBsPXJlcXVpcmUoIkBvZmZpcm1vL3ByYWN0aWNhbC1sb2dnZXItY29yZSIpO2V4cG9ydHMuREVGQVVMVF9MT0dfTEVWRUw9bC5ERUZBVUxUX0xPR19MRVZFTCxleHBvcnRzLkRFRkFVTFRfTE9HR0VSX0tFWT1sLkRFRkFVTFRfTE9HR0VSX0tFWTsKfSx7IkBvZmZpcm1vL3Rpbnktc2luZ2xldG9uIjoiUXJXZCIsIkBvZmZpcm1vL3ByYWN0aWNhbC1sb2dnZXItY29yZSI6InFBSE0iLCIuL3NpbmtzIjoianRLNyIsIi4vYmV0dGVyLWNvbnNvbGUtZ3JvdXBzL3ByYWN0aWNhbC1sb2dnZXIiOiJRcXp6IiwiQG9mZmlybW8vcHJhY3RpY2FsLWxvZ2dlci10eXBlcyI6IkJ0aUIifV0sIm90ZTciOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7CiJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZXhwb3J0cy5MU19ST09UPSLwn5ugVURBIjsKfSx7fV0sIkx5amgiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7CiJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGU9cmVxdWlyZSgiLi4vY29uc3RzIikscj1yZXF1aXJlKCIuLi9jb25zdHMiKTtmdW5jdGlvbiB0KGUpe3JldHVybiJsb2dnZXIuIisoZXx8ImRlZmF1bHQiKSsiLmxvZ0xldmVsIn1mdW5jdGlvbiBvKHIpe3JldHVybiBlLkxTX1JPT1QrIi5vdmVycmlkZS4iK3J9ZXhwb3J0cy5MU19ST09UPXIuTFNfUk9PVCxleHBvcnRzLmdldE92ZXJyaWRlS2V5Rm9yTG9nZ2VyPXQsZXhwb3J0cy5nZXRMU0tleUZvck92ZXJyaWRlPW87Cn0seyIuLi9jb25zdHMiOiJvdGU3In1dLCJmUnRLIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewoidXNlIHN0cmljdCI7dmFyIGU9dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG89YXJndW1lbnRzLmxlbmd0aDt0PG87dCsrKWZvcih2YXIgbiBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcj1yZXF1aXJlKCJAb2ZmaXJtby9wcmFjdGljYWwtbG9nZ2VyLWJyb3dzZXIiKSx0PXJlcXVpcmUoIi4va2V5cyIpLG89dC5MU19ST09UO2Z1bmN0aW9uIG4oKXt2YXIgbixhPXt9LGk9e30sdj17fSx1PXt9LGM9KG49byxyLmNyZWF0ZUxvZ2dlcih7bmFtZTpuLHN1Z2dlc3RlZExldmVsOiJzaWxseSJ9KSk7ZnVuY3Rpb24gZyhlKXt0cnl7dmFyIHI9dC5nZXRMU0tleUZvck92ZXJyaWRlKGUpO3JldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShyKX1jYXRjaChvKXtyZXR1cm4gYy53YXJuKCfwn5S0IGVycm9yIHJlYWRpbmcgTFMgZm9yIG92ZXJyaWRlICInK2UrJyIhJyx7ZXJyOm99KSxudWxsfX1mdW5jdGlvbiBsKGUscil7dHJ5e3ZhciB0PWZ1bmN0aW9uKGUpe2lmKCF1W2VdKXt1W2VdPXtpc09uOiExLHZhbHVlOnZvaWQgMH07dmFyIHI9ZyhlKTtpZihyKXRyeXt1W2VdLmlzT249ITA7dmFyIHQ9InVuZGVmaW5lZCI9PT1yP3ZvaWQgMDpKU09OLnBhcnNlKHIpO3VbZV0udmFsdWU9dCxjLmxvZygnIPCflLUgb3ZlcnJpZGVuICInK2UrJyInLHt2YWx1ZTp0fSl9Y2F0Y2gobyl7Yy53YXJuKCfwn5S0IGZhaWxlZCB0byBvdmVycmlkZSAiJytlKyciIScse2JhZFZhbHVlOnIsZXJyOm99KX19cmV0dXJuIHVbZV19KGUpO2lmKHQuaXNPbilyZXR1cm4gdC52YWx1ZX1jYXRjaChvKXtjLndhcm4oIm92ZXJyaWRlSG9vaygpOiBlcnJvciByZXRyaWV2aW5nIG92ZXJyaWRlISIse2tleTplLGVycjpvfSl9cmV0dXJuIHJ9cmV0dXJue2dldExvZ2dlcjpmdW5jdGlvbihvKXt2b2lkIDA9PT1vJiYobz17fSk7dmFyIG49by5uYW1lfHxyLkRFRkFVTFRfTE9HR0VSX0tFWTtpZighYVtuXSl7dHJ5e3ZhciBpPXQuZ2V0T3ZlcnJpZGVLZXlGb3JMb2dnZXIobik7IW8uZm9yY2VkTGV2ZWwmJmcoaSkmJihvPWUoZSh7fSxvKSx7Zm9yY2VkTGV2ZWw6bChpLG8uc3VnZ2VzdGVkTGV2ZWx8fHIuREVGQVVMVF9MT0dfTEVWRUwpfSkpfWNhdGNoKHYpe2Mud2FybigiZ2V0TG9nZ2VyKCk6IGVycm9yIG92ZXJyaWRpbmcgdGhlIGxldmVsISIse25hbWU6bixlcnI6dn0pfWFbbl09ci5jcmVhdGVMb2dnZXIobyl9cmV0dXJuIGFbbl19LGV4cG9zZUludGVybmFsOmZ1bmN0aW9uKGUscil7dHJ5e3ZhciB0PWUuc3BsaXQoIi4iKSxuPXQubGVuZ3RoLTEsYT12O3QuZm9yRWFjaChmdW5jdGlvbihlLHQpe2FbZV09YVtlXXx8KHQ9PT1uP3I6e30pLGE9YVtlXX0pfWNhdGNoKGkpe2Mud2FybigiWyIrbysiXSBleHBvc2VJbnRlcm5hbCgpOiBlcnJvciBleHBvc2luZyEiLHtwYXRoOmUsZXJyOml9KX19LG92ZXJyaWRlSG9vazpsLGFkZERlYnVnQ29tbWFuZDpmdW5jdGlvbihlLHIpe2lbZV09cn0sXzp7ZXhwb3NlZDp2LG92ZXJyaWRlczp1fX19ZXhwb3J0cy5kZWZhdWx0PW47Cn0seyJAb2ZmaXJtby9wcmFjdGljYWwtbG9nZ2VyLWJyb3dzZXIiOiJRR1BmIiwiLi9rZXlzIjoiTHlqaCJ9XSwiYjhENCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHsKInVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgZT1yZXF1aXJlKCJAb2ZmaXJtby9wcmFjdGljYWwtbG9nZ2VyLXR5cGVzIik7ZXhwb3J0cy5Mb2dnZXI9ZS5Mb2dnZXIsZXhwb3J0cy5Mb2dnZXJDcmVhdGlvblBhcmFtcz1lLkxvZ2dlckNyZWF0aW9uUGFyYW1zOwp9LHsiQG9mZmlybW8vcHJhY3RpY2FsLWxvZ2dlci10eXBlcyI6IkJ0aUIifV0sInRXNUsiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7CiJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGU9cmVxdWlyZSgiLi92MSIpO2V4cG9ydHMuRGVidWdBcGlWMT1lLkRlYnVnQXBpO3ZhciByPXJlcXVpcmUoIkBvZmZpcm1vL3ByYWN0aWNhbC1sb2dnZXItdHlwZXMiKTtleHBvcnRzLkxvZ2dlcj1yLkxvZ2dlcixleHBvcnRzLkxvZ2dlckNyZWF0aW9uUGFyYW1zPXIuTG9nZ2VyQ3JlYXRpb25QYXJhbXM7Cn0seyIuL3YxIjoiYjhENCIsIkBvZmZpcm1vL3ByYWN0aWNhbC1sb2dnZXItdHlwZXMiOiJCdGlCIn1dLCJWanU5IjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewoidXNlIHN0cmljdCI7ZnVuY3Rpb24gZShlKXtmb3IodmFyIHIgaW4gZSlleHBvcnRzLmhhc093blByb3BlcnR5KHIpfHwoZXhwb3J0c1tyXT1lW3JdKX12YXIgcj10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89cmVxdWlyZSgiQG9mZmlybW8vZ2xvYmFsdGhpcy1wb255ZmlsbCIpLHQ9cihyZXF1aXJlKCIuL3YxIikpO2V4cG9ydHMuY3JlYXRlVjE9dC5kZWZhdWx0O3ZhciBhPW8uZ2V0R2xvYmFsVGhpcygpO2V4cG9ydHMuZ2xvYmFsVGhpcz1hLGEuX2RlYnVnPWEuX2RlYnVnfHx7fTt2YXIgaT1hLl9kZWJ1ZztpLnYxPWkudjF8fHQuZGVmYXVsdCgpO3ZhciBzPWkudjEsdT1zLmdldExvZ2dlcixkPXMuZXhwb3NlSW50ZXJuYWwsbD1zLm92ZXJyaWRlSG9vayxuPXMuYWRkRGVidWdDb21tYW5kO2V4cG9ydHMuZ2V0TG9nZ2VyPXUsZXhwb3J0cy5leHBvc2VJbnRlcm5hbD1kLGV4cG9ydHMub3ZlcnJpZGVIb29rPWwsZXhwb3J0cy5hZGREZWJ1Z0NvbW1hbmQ9bixlKHJlcXVpcmUoIkBvZmZpcm1vL3VuaXZlcnNhbC1kZWJ1Zy1hcGktaW50ZXJmYWNlIikpOwp9LHsiQG9mZmlybW8vZ2xvYmFsdGhpcy1wb255ZmlsbCI6Ill6UHUiLCIuL3YxIjoiZlJ0SyIsIkBvZmZpcm1vL3VuaXZlcnNhbC1kZWJ1Zy1hcGktaW50ZXJmYWNlIjoidFc1SyJ9XSwieklTeiI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpIHsKInVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyZXF1aXJlKCJAb2ZmaXJtby91bml2ZXJzYWwtZGVidWctYXBpLWJyb3dzZXIiKTsKfSx7IkBvZmZpcm1vL3VuaXZlcnNhbC1kZWJ1Zy1hcGktYnJvd3NlciI6IlZqdTkifV19LHt9LFsieklTeiJdLCBudWxsKQ=='\nexport default lib\n","\n// THIS FILE IS AUTO GENERATED!\n// This is a base64 version of a content script to communicate with UWDT webextension\n// bundled in a single file through this local file:\n// ../src/injected-libs/universal-debug-api-control.ts\nconst lib = 'cGFyY2VsUmVxdWlyZT1mdW5jdGlvbihlLHIsdCxuKXt2YXIgaSxvPSJmdW5jdGlvbiI9PXR5cGVvZiBwYXJjZWxSZXF1aXJlJiZwYXJjZWxSZXF1aXJlLHU9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7ZnVuY3Rpb24gZih0LG4pe2lmKCFyW3RdKXtpZighZVt0XSl7dmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHBhcmNlbFJlcXVpcmUmJnBhcmNlbFJlcXVpcmU7aWYoIW4mJmkpcmV0dXJuIGkodCwhMCk7aWYobylyZXR1cm4gbyh0LCEwKTtpZih1JiYic3RyaW5nIj09dHlwZW9mIHQpcmV0dXJuIHUodCk7dmFyIGM9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrdCsiJyIpO3Rocm93IGMuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsY31wLnJlc29sdmU9ZnVuY3Rpb24ocil7cmV0dXJuIGVbdF1bMV1bcl18fHJ9LHAuY2FjaGU9e307dmFyIGw9clt0XT1uZXcgZi5Nb2R1bGUodCk7ZVt0XVswXS5jYWxsKGwuZXhwb3J0cyxwLGwsbC5leHBvcnRzLHRoaXMpfXJldHVybiByW3RdLmV4cG9ydHM7ZnVuY3Rpb24gcChlKXtyZXR1cm4gZihwLnJlc29sdmUoZSkpfX1mLmlzUGFyY2VsUmVxdWlyZT0hMCxmLk1vZHVsZT1mdW5jdGlvbihlKXt0aGlzLmlkPWUsdGhpcy5idW5kbGU9Zix0aGlzLmV4cG9ydHM9e319LGYubW9kdWxlcz1lLGYuY2FjaGU9cixmLnBhcmVudD1vLGYucmVnaXN0ZXI9ZnVuY3Rpb24ocix0KXtlW3JdPVtmdW5jdGlvbihlLHIpe3IuZXhwb3J0cz10fSx7fV19O2Zvcih2YXIgYz0wO2M8dC5sZW5ndGg7YysrKXRyeXtmKHRbY10pfWNhdGNoKGUpe2l8fChpPWUpfWlmKHQubGVuZ3RoKXt2YXIgbD1mKHRbdC5sZW5ndGgtMV0pOyJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9bDoiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShmdW5jdGlvbigpe3JldHVybiBsfSk6biYmKHRoaXNbbl09bCl9aWYocGFyY2VsUmVxdWlyZT1mLGkpdGhyb3cgaTtyZXR1cm4gZn0oeyJubkxBIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewoidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGV4cG9ydHMuREVGQVVMVF9MT0dfTEVWRUw9ImVycm9yIixleHBvcnRzLkRFRkFVTFRfTE9HR0VSX0tFWT0iIjsKfSx7fV0sIm90ZTciOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7CiJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZXhwb3J0cy5MU19ST09UPSLwn5ugVURBIjsKfSx7fV0sIkx5amgiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7CiJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGU9cmVxdWlyZSgiLi4vY29uc3RzIikscj1yZXF1aXJlKCIuLi9jb25zdHMiKTtmdW5jdGlvbiB0KGUpe3JldHVybiJsb2dnZXIuIisoZXx8ImRlZmF1bHQiKSsiLmxvZ0xldmVsIn1mdW5jdGlvbiBvKHIpe3JldHVybiBlLkxTX1JPT1QrIi5vdmVycmlkZS4iK3J9ZXhwb3J0cy5MU19ST09UPXIuTFNfUk9PVCxleHBvcnRzLmdldE92ZXJyaWRlS2V5Rm9yTG9nZ2VyPXQsZXhwb3J0cy5nZXRMU0tleUZvck92ZXJyaWRlPW87Cn0seyIuLi9jb25zdHMiOiJvdGU3In1dLCJNeDZDIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewoidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGV4cG9ydHMuTVNHX0VOVFJZPSLwn6epVVdEVC52MCI7Cn0se31dLCJ2TkJ5IjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewoidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBlPXJlcXVpcmUoIi4uL2NvbnN0cy9lbnRyeSIpO2Z1bmN0aW9uIHIocil7dmFyIF87cmV0dXJuKF89e30pW2UuTVNHX0VOVFJZXT17dHlwZTpleHBvcnRzLk1TR19UWVBFX19SRVBPUlRfREVCVUdfQVBJX1VTQUdFLHJlcG9ydHM6cn0sX31leHBvcnRzLk1TR19UWVBFX19SRVBPUlRfREVCVUdfQVBJX1VTQUdFPSJyZXBvcnQtdXNhZ2UiLGV4cG9ydHMuY3JlYXRlX21zZ19yZXBvcnRfZGVidWdfYXBpX3VzYWdlPXI7Cn0seyIuLi9jb25zdHMvZW50cnkiOiJNeDZDIn1dLCJsUHFSIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cykgewoidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihyKXtpZihyIT09ZXhwb3J0cy5KU09OX1VOREVGSU5FRClyZXR1cm4gSlNPTi5wYXJzZShyKX1mdW5jdGlvbiBlKHIpe3JldHVybiB2b2lkIDA9PT1yP2V4cG9ydHMuSlNPTl9VTkRFRklORUQ6SlNPTi5zdHJpbmdpZnkocil9ZnVuY3Rpb24gcyhyKXtpZihyPT09ZXhwb3J0cy5KU09OX1VOREVGSU5FRClyZXR1cm4hMDtpZigic3RyaW5nIiE9dHlwZW9mIHIpcmV0dXJuIGNvbnNvbGUuZXJyb3IoImlzX3ZhbGlkX3N0cmluZ2lmaWVkX2pzb24gZmFpbHVyZSAxISIse3Nqc29uOnJ9KSwhMTt0cnl7cmV0dXJuIEpTT04ucGFyc2UociksITB9Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoImlzX3ZhbGlkX3N0cmluZ2lmaWVkX2pzb24gZmFpbHVyZSAyISIse3Nqc29uOnJ9KSwhMX19ZnVuY3Rpb24gbihyKXtyZXR1cm4gcj09PWV4cG9ydHMuSlNPTl9VTkRFRklORUQ/InVuZGVmaW5lZCI6cn1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZXhwb3J0cy5KU09OX1VOREVGSU5FRD0idW5kZWZpbmVkIixleHBvcnRzLnNqc29uX3BhcnNlPXIsZXhwb3J0cy5zanNvbl9zdHJpbmdpZnk9ZSxleHBvcnRzLmlzX3ZhbGlkX3N0cmluZ2lmaWVkX2pzb249cyxleHBvcnRzLmNvbnRyb2xfc2pzb249bjsKfSx7fV0sIk9aQUgiOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKSB7CiJ1c2Ugc3RyaWN0Ijt2YXIgZT10aGlzJiZ0aGlzLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybihlPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgbyxyPTEsdD1hcmd1bWVudHMubGVuZ3RoO3I8dDtyKyspZm9yKHZhciBuIGluIG89YXJndW1lbnRzW3JdKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLG4pJiYoZVtuXT1vW25dKTtyZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPXJlcXVpcmUoIkBvZmZpcm1vL3ByYWN0aWNhbC1sb2dnZXItY29yZS9zcmMvY29uc3RzLWJhc2UiKSxyPXJlcXVpcmUoIkBvZmZpcm1vL3VuaXZlcnNhbC1kZWJ1Zy1hcGktYnJvd3Nlci9zcmMvdjEva2V5cyIpLHQ9cmVxdWlyZSgiLi4vY29tbW9uL21lc3NhZ2VzL3JlcG9ydC11c2FnZSIpLG49cmVxdWlyZSgiLi4vY29tbW9uL3V0aWxzL3N0cmluZ2lmaWVkLWpzb24iKSxzPSExO3RyeXtzPXN8fCEhd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCLwn6epVVdEVGkuY29udGV4dC5kZWJ1ZyIpfWNhdGNoKHApe312YXIgaT13aW5kb3cuX2RlYnVnLnYxLGE9e30sZz1bXSx1PSExO2Z1bmN0aW9uIGwoKXtzJiZjb25zb2xlLmxvZygi8J+nqVVXRFRpOiBzY2hlZHVsZV9zeW5jIix7bGFzdF9xdWV1ZWQ6Zy5zbGljZSgtMSlbMF0scXVldWVfc2l6ZTpnLmxlbmd0aCxpbl9mbGlnaHQ6dX0pLHV8fCh1PSEwLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtzJiZjb25zb2xlLmxvZygi8J+nqVVXRFRpOiBwb3N0aW5nIGNyZWF0ZV9tc2dfcmVwb3J0X2RlYnVnX2FwaV91c2FnZS4uLiIpO3RyeXt3aW5kb3cucG9zdE1lc3NhZ2UodC5jcmVhdGVfbXNnX3JlcG9ydF9kZWJ1Z19hcGlfdXNhZ2UoZyksIioiKX1jYXRjaChlKXtzJiZjb25zb2xlLmVycm9yKCLwn6epVVdEVGk6IGVycm9yIHdoZW4gc3luY2luZyEiLGUpfWcubGVuZ3RoPTAsdT0hMX0pKX1mdW5jdGlvbiBjKGUpe3RyeXt2YXIgbz1yLmdldExTS2V5Rm9yT3ZlcnJpZGUoZSk7cmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKG8pfWNhdGNoKHQpe3JldHVybiBudWxsfX1mdW5jdGlvbiBkKGUsbyl7aWYoIWEuaGFzT3duUHJvcGVydHkoZSkpe3ZhciByPW4uc2pzb25fc3RyaW5naWZ5KG8pO3MmJmNvbnNvbGUubG9nKCLwn6epVVdEVGk6IG92ZXJyaWRlSG9vaygpIix7a2V5OmUsZGVmYXVsdF92YWx1ZTpvLGRlZmF1bHRfdmFsdWVfc2pzb246cn0pO3ZhciB0PWMoZSk7Zy5wdXNoKHt0eXBlOiJvdmVycmlkZSIsa2V5OmUsZGVmYXVsdF92YWx1ZV9zanNvbjpyLGV4aXN0aW5nX292ZXJyaWRlX3Nqc29uOnR9KSxsKCksYVtlXT10fXJldHVybiBpLm92ZXJyaWRlSG9vayhlLG8pfWZ1bmN0aW9uIF8odCl7dm9pZCAwPT09dCYmKHQ9e30pO3ZhciBuPXQubmFtZXx8by5ERUZBVUxUX0xPR0dFUl9LRVksYT1yLmdldE92ZXJyaWRlS2V5Rm9yTG9nZ2VyKG4pLGc9dC5zdWdnZXN0ZWRMZXZlbHx8by5ERUZBVUxUX0xPR19MRVZFTDtzJiZjb25zb2xlLmxvZygi8J+nqVVXRFRpOiBnZXRMb2dnZXIoKSIse3BhcmFtczp0LG5hbWU6bixvdkRlZmF1bHRMZXZlbDpnLERFRkFVTFRfTE9HX0xFVkVMOm8uREVGQVVMVF9MT0dfTEVWRUx9KTt2YXIgdT1kKGEsZyk7cmV0dXJuIXQuZm9yY2VkTGV2ZWwmJmMoYSkmJih0PWUoZSh7fSx0KSx7Zm9yY2VkTGV2ZWw6dX0pKSxpLmdldExvZ2dlcih0KX1mdW5jdGlvbiB2KGUsbyl7cmV0dXJuIHMmJmNvbnNvbGUubG9nKCLwn6epVVdEVGk6IGV4cG9zZUludGVybmFsKCkiLHtwYXRoOmV9KSxpLmV4cG9zZUludGVybmFsKGUsbyl9ZnVuY3Rpb24gZihlLG8pe3JldHVybiBzJiZjb25zb2xlLmxvZygi8J+nqVVXRFRpOiBhZGREZWJ1Z0NvbW1hbmQoKSIse2NvbW1hbmROYW1lOmV9KSxpLmFkZERlYnVnQ29tbWFuZChlLG8pfXdpbmRvdy5fZGVidWcudjE9ZShlKHt9LGkpLHtvdmVycmlkZUhvb2s6ZCxnZXRMb2dnZXI6XyxleHBvc2VJbnRlcm5hbDp2LGFkZERlYnVnQ29tbWFuZDpmfSkscyYmY29uc29sZS5sb2coIvCfp6lVV0RUaTogYWxsIHNldCB1cCDinIUiKTsKfSx7IkBvZmZpcm1vL3ByYWN0aWNhbC1sb2dnZXItY29yZS9zcmMvY29uc3RzLWJhc2UiOiJubkxBIiwiQG9mZmlybW8vdW5pdmVyc2FsLWRlYnVnLWFwaS1icm93c2VyL3NyYy92MS9rZXlzIjoiTHlqaCIsIi4uL2NvbW1vbi9tZXNzYWdlcy9yZXBvcnQtdXNhZ2UiOiJ2TkJ5IiwiLi4vY29tbW9uL3V0aWxzL3N0cmluZ2lmaWVkLWpzb24iOiJsUHFSIn1dfSx7fSxbIk9aQUgiXSwgbnVsbCk='\nexport default lib\n","//import { browser } from 'webextension-polyfill-ts' // TODO smaller than loading the full polyfill?\nconst browser = (globalThis as any).browser || (globalThis as any).chrome\n\n\nimport assert from 'tiny-invariant'\n\nimport { MSG_ENTRY, LS_KEY_ENABLED } from '../common/consts/content--start'\nimport {\n\tcreate_msg_report_is_lib_injected,\n\tMSG_TYPE__UPDATE_LS_STATE,\n} from '../common/messages' // TODO smaller import\nimport { MSG_TYPE__REPORT_DEBUG_API_USAGE } from '../common/messages/report-usage'\n\nimport lib1 from './lib-to-inject-1'\nimport lib2 from './lib-to-inject-2'\n\nconst LIB = '🧩 UWDT/CS--start'\n\nlet DEBUG = false\ntry { // defensive!\n\tDEBUG = DEBUG || !!window.localStorage.getItem(`🧩UWDTi.context.debug`);\n} catch { /* swallow */ }\n\nif (DEBUG) {\n\tconsole.log(`[${LIB},${Date.now()}] Hello!`, {\n\t\tbrowser,\n\t\tdocument,\n\t\t'_debug.enabled': localStorage.getItem(LS_KEY_ENABLED) === 'true'\n\t})\n}\n\n////////////////////////////////////\n\nfunction onMessage(event: MessageEvent) {\n\tif (!event.data[MSG_ENTRY]) return // not for/from us\n\n\tif (DEBUG) console.group(`[${LIB},${Date.now()}] received postMessage:`, event.data)\n\n\tconst payload = event.data[MSG_ENTRY]\n\tconst { type } = payload\n\tif (DEBUG) console.log('message =', { type, payload })\n\n\tswitch(type) {\n\t\tcase MSG_TYPE__REPORT_DEBUG_API_USAGE:\n\t\t\t// forward to background\n\t\t\tbrowser.runtime.sendMessage(event.data)\n\t\t\tbreak\n\t\tdefault:\n\t\t\tif (DEBUG) console.error(`[${LIB},${Date.now()}] Unhandled postMessage type \"${type}\"!`)\n\t\t\tbreak\n\t}\n\tif (DEBUG) console.groupEnd()\n}\nconst listenerOptions = {\n\tcapture: false, // http://devdocs.io/dom/window/postmessage\n}\nwindow.addEventListener('message', onMessage, listenerOptions)\n\n\n////////////////////////////////////\n\nlet should_inject = false\ntry { // defensive!\n\tshould_inject = should_inject || localStorage.getItem(LS_KEY_ENABLED) === 'true'\n} catch { /* swallow */ }\n\nif (should_inject) {\n\t// Create a script tag and inject it into the document.\n\n\t// TODO download up-to-date libs from somewhere?\n\t// TODO allow 3rd-party addons?\n\n\t// 1. de-stringifier\n\t// https://stackoverflow.com/a/30106551/587407\n\tconst scriptElement0 = document.createElement('script')\n\tscriptElement0.innerHTML = `\nfunction _UWDT_b64DecodeUnicode(str) {\n\t// Going backwards: from bytestream, to percent-encoding, to original string.\n\treturn decodeURIComponent(atob(str).split('').map(function(c) {\n\t  return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n\t}).join(''));\n}`\n\tdocument.documentElement.prepend(scriptElement0)\n\n\tconst scriptElement1 = document.createElement('script')\n\tscriptElement1.innerHTML = `eval(_UWDT_b64DecodeUnicode(\"${lib1}\"))`\n\tdocument.documentElement.prepend(scriptElement1)\n\n\tconst scriptElement2 = document.createElement('script')\n\tscriptElement2.innerHTML = `eval(_UWDT_b64DecodeUnicode(\"${lib2}\"))`\n\tdocument.documentElement.prepend(scriptElement2)\n\n\tif (DEBUG) console.info(`[${LIB},${Date.now()}] UDA was injected from the webextension ✅`)\n}\nelse {\n\tif (DEBUG) console.info(`[${LIB},${Date.now()}] UDA frow webext is disabled ❎`)\n}\n\nbrowser.runtime.sendMessage(\n\tcreate_msg_report_is_lib_injected(\n\t\tdocument.location.href,\n\t\tshould_inject\n\t)\n)\n// TODO in the response we could have:\n// extension debug mode?\n// extra libs to inject?\n\n////////////////////////////////////\n\nbrowser.runtime.onMessage.addListener((request: any, sender: any): Promise<any> | void => {\n\tif (DEBUG) console.group(`[${LIB},${Date.now()}] 📥 received a simple message`)\n\tlet response: any\n\n\ttry {\n\t\tif (DEBUG) console.log({ sender })\n\n\t\tassert(request[MSG_ENTRY], 'MSG_ENTRY')\n\t\tconst payload = request[MSG_ENTRY]\n\t\tconst { type } = payload\n\n\t\tif (DEBUG) console.log({type, payload})\n\n\t\t// TODO only overwrite if not changed in the meantime?\n\t\t// TODO clean all overrides if disabled?\n\t\t// TODO actively refresh infos on UI open?\n\n\t\tswitch (type) {\n\t\t\tcase MSG_TYPE__UPDATE_LS_STATE: {\n\t\t\t\tObject.entries(payload.kv as { [k: string]: string | null }).forEach(([k, v]) => {\n\t\t\t\t\tif (DEBUG) console.log('updating LS entry:', {k, v})\n\t\t\t\t\tif (v === null)\n\t\t\t\t\t\tlocalStorage.removeItem(k)\n\t\t\t\t\telse\n\t\t\t\t\t\tlocalStorage.setItem(k, v)\n\t\t\t\t})\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tif (DEBUG) console.error(`Unhandled msg type \"${type}\"!`)\n\t\t\t\t// TODO error report msg?\n\t\t\t\tbreak\n\t\t}\n\t}\n\tcatch (err) {\n\t\tif (DEBUG) console.error(err)\n\t\tresponse = Promise.reject(err)\n\t}\n\n\tif (DEBUG) console.groupEnd()\n\n\tif (response)\n\t\treturn Promise.resolve(response)\n})\n"]}