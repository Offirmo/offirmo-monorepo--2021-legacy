{"dependencies":[{"name":"/Users/yjutard/work/src/off/offirmo-monorepo/1-foundation/soft-execution-context/.babelrc","includedInParent":true,"mtime":1527315405077},{"name":"/Users/yjutard/work/src/off/offirmo-monorepo/1-foundation/soft-execution-context/package.json","includedInParent":true,"mtime":1527752875823}],"generated":{"js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nfunction createCatcher() {\n\tvar _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t    _ref$decorators = _ref.decorators,\n\t    decorators = _ref$decorators === undefined ? [] : _ref$decorators,\n\t    onError = _ref.onError,\n\t    _ref$debugId = _ref.debugId,\n\t    debugId = _ref$debugId === undefined ? '?' : _ref$debugId;\n\n\treturn function (err) {\n\t\t//console.info(`[catchFactory from ${debugId}]`)\n\n\t\terr = decorators.reduce(function (err, decorator) {\n\t\t\ttry {\n\t\t\t\terr = decorator(err);\n\t\t\t\tif (!err.message) throw new Error();\n\t\t\t} catch (decoratorErr) {\n\t\t\t\tconsole.error('catchFactory exec from ' + debugId + ': bad decorator!', {\n\t\t\t\t\terr: err,\n\t\t\t\t\tdecoratorErr: decoratorErr,\n\t\t\t\t\t'decorator.name': decorator.name\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn err;\n\t\t}, err);\n\n\t\tif (onError) return onError(err);\n\t\tthrow err; // or rethrow since still unhandled\n\t};\n}\n\nexports.createCatcher = createCatcher;","map":{"mappings":[{"generated":{"line":6,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":0}},{"name":"createCatcher","generated":{"line":6,"column":9},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":9}},{"generated":{"line":6,"column":22},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":0}},{"generated":{"line":6,"column":25},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":71}},{"generated":{"line":7,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":71}},{"generated":{"line":7,"column":80},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":67}},{"generated":{"line":7,"column":82},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":71}},{"generated":{"line":8,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":71}},{"name":"decorators","generated":{"line":8,"column":28},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":24}},{"generated":{"line":8,"column":38},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":71}},{"generated":{"line":9,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":71}},{"name":"decorators","generated":{"line":9,"column":5},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":24}},{"generated":{"line":9,"column":15},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":71}},{"generated":{"line":9,"column":50},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":37}},{"generated":{"line":9,"column":52},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":71}},{"generated":{"line":10,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":71}},{"name":"onError","generated":{"line":10,"column":5},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":41}},{"generated":{"line":10,"column":12},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":71}},{"name":"onError","generated":{"line":10,"column":20},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":41}},{"generated":{"line":10,"column":27},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":71}},{"generated":{"line":11,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":71}},{"name":"debugId","generated":{"line":11,"column":25},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":50}},{"generated":{"line":11,"column":32},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":71}},{"generated":{"line":12,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":71}},{"name":"debugId","generated":{"line":12,"column":5},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":50}},{"generated":{"line":12,"column":12},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":71}},{"generated":{"line":12,"column":44},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":60}},{"generated":{"line":12,"column":47},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":1,"column":71}},{"generated":{"line":14,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":3,"column":1}},{"generated":{"line":14,"column":8},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":3,"column":8}},{"name":"err","generated":{"line":14,"column":18},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":3,"column":9}},{"generated":{"line":14,"column":21},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":3,"column":8}},{"generated":{"line":14,"column":23},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":3,"column":17}},{"generated":{"line":15,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":4,"column":2}},{"name":"err","generated":{"line":17,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":6,"column":2}},{"name":"decorators","generated":{"line":17,"column":8},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":6,"column":8}},{"name":"reduce","generated":{"line":17,"column":19},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":6,"column":19}},{"generated":{"line":17,"column":25},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":6,"column":8}},{"generated":{"line":17,"column":26},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":6,"column":26}},{"name":"err","generated":{"line":17,"column":36},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":6,"column":27}},{"generated":{"line":17,"column":39},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":6,"column":26}},{"name":"decorator","generated":{"line":17,"column":41},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":6,"column":32}},{"generated":{"line":17,"column":50},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":6,"column":26}},{"generated":{"line":17,"column":52},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":6,"column":46}},{"generated":{"line":18,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":7,"column":3}},{"generated":{"line":18,"column":7},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":7,"column":7}},{"name":"err","generated":{"line":19,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":8,"column":4}},{"name":"decorator","generated":{"line":19,"column":10},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":8,"column":10}},{"name":"err","generated":{"line":19,"column":20},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":8,"column":20}},{"generated":{"line":19,"column":23},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":8,"column":10}},{"generated":{"line":19,"column":24},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":8,"column":4}},{"generated":{"line":20,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":9,"column":4}},{"generated":{"line":20,"column":8},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":9,"column":8}},{"name":"err","generated":{"line":20,"column":9},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":9,"column":9}},{"name":"message","generated":{"line":20,"column":13},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":9,"column":13}},{"generated":{"line":20,"column":20},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":9,"column":4}},{"generated":{"line":20,"column":22},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":10,"column":5}},{"generated":{"line":20,"column":28},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":10,"column":11}},{"name":"Error","generated":{"line":20,"column":32},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":10,"column":15}},{"generated":{"line":20,"column":37},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":10,"column":11}},{"generated":{"line":20,"column":39},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":10,"column":5}},{"generated":{"line":21,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":11,"column":4}},{"generated":{"line":21,"column":4},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":7,"column":3}},{"generated":{"line":21,"column":5},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":12,"column":3}},{"name":"decoratorErr","generated":{"line":21,"column":12},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":12,"column":10}},{"generated":{"line":21,"column":24},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":12,"column":3}},{"generated":{"line":21,"column":26},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":12,"column":24}},{"name":"console","generated":{"line":22,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":13,"column":4}},{"name":"error","generated":{"line":22,"column":12},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":13,"column":12}},{"generated":{"line":22,"column":17},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":13,"column":4}},{"name":"debugId","generated":{"line":22,"column":46},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":13,"column":44}},{"generated":{"line":22,"column":53},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":13,"column":4}},{"generated":{"line":22,"column":76},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":13,"column":71}},{"name":"err","generated":{"line":23,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":14,"column":5}},{"generated":{"line":23,"column":13},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":13,"column":71}},{"name":"decoratorErr","generated":{"line":24,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":15,"column":5}},{"generated":{"line":24,"column":31},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":13,"column":71}},{"generated":{"line":25,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":16,"column":5}},{"name":"decorator","generated":{"line":25,"column":23},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":16,"column":23}},{"name":"name","generated":{"line":25,"column":33},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":16,"column":33}},{"generated":{"line":26,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":13,"column":71}},{"generated":{"line":26,"column":5},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":13,"column":4}},{"generated":{"line":27,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":18,"column":4}},{"generated":{"line":28,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":19,"column":3}},{"name":"err","generated":{"line":28,"column":10},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":19,"column":10}},{"generated":{"line":28,"column":13},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":19,"column":3}},{"generated":{"line":29,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":20,"column":3}},{"generated":{"line":29,"column":3},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":6,"column":8}},{"name":"err","generated":{"line":29,"column":5},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":20,"column":5}},{"generated":{"line":29,"column":8},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":6,"column":8}},{"generated":{"line":29,"column":9},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":6,"column":2}},{"generated":{"line":31,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":22,"column":2}},{"name":"onError","generated":{"line":31,"column":6},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":22,"column":6}},{"generated":{"line":31,"column":13},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":22,"column":2}},{"generated":{"line":31,"column":15},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":23,"column":3}},{"name":"onError","generated":{"line":31,"column":22},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":23,"column":10}},{"name":"err","generated":{"line":31,"column":30},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":23,"column":18}},{"generated":{"line":31,"column":33},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":23,"column":10}},{"generated":{"line":31,"column":34},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":23,"column":3}},{"generated":{"line":32,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":24,"column":2}},{"name":"err","generated":{"line":32,"column":8},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":24,"column":8}},{"generated":{"line":32,"column":11},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":24,"column":2}},{"generated":{"line":32,"column":12},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":3,"column":17}},{"generated":{"line":32,"column":13},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":24,"column":12}},{"generated":{"line":33,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":25,"column":2}},{"generated":{"line":33,"column":2},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":3,"column":1}},{"generated":{"line":34,"column":0},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":26,"column":1}},{"name":"createCatcher","generated":{"line":36,"column":8},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":29,"column":1}},{"name":"createCatcher","generated":{"line":36,"column":24},"source":"../../src/plugins/error-handling/catch-factory.js","original":{"line":29,"column":1}}],"sources":{"../../src/plugins/error-handling/catch-factory.js":"function createCatcher({decorators = [], onError, debugId = '?'} = {}) {\n\n\treturn (err) => {\n\t\t//console.info(`[catchFactory from ${debugId}]`)\n\n\t\terr = decorators.reduce((err, decorator) => {\n\t\t\ttry {\n\t\t\t\terr = decorator(err)\n\t\t\t\tif (!err.message)\n\t\t\t\t\tthrow new Error()\n\t\t\t}\n\t\t\tcatch (decoratorErr) {\n\t\t\t\tconsole.error(`catchFactory exec from ${debugId}: bad decorator!`, {\n\t\t\t\t\terr,\n\t\t\t\t\tdecoratorErr,\n\t\t\t\t\t'decorator.name': decorator.name,\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn err\n\t\t}, err)\n\n\t\tif (onError)\n\t\t\treturn onError(err)\n\t\tthrow err // or rethrow since still unhandled\n\t}\n}\n\nexport {\n\tcreateCatcher,\n}\n"},"lineCount":null}},"hash":"e1528b2a6d9bc79e33e38e007a6aa7d4","cacheData":{"env":{}}}