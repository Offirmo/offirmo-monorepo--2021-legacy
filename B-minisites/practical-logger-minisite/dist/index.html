<!DOCTYPE html><html lang="en" class="o⋄top-container" data-o-theme="light-on-dark"><head><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><title>Offirmo’s Practical Logger</title><meta name="monetization" content="$ilp.uphold.com/26PeD6EzMhYJ"><style>@import "style.ad57f0d4.css";@import "style--theme--lod-colorhunt212.d709aad8.css";@import "beautiful-website.1512aea6.css";img{max-width:500px;xxmax-width:-webkit-fill-available}.github-corner:hover .octo-arm{animation:octocat-wave .56s ease-in-out}@keyframes octocat-wave{0%,to{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave .56s ease-in-out}}</style><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.17.1/themes/prism-twilight.css" crossorigin></head><body class="o⋄flow o⋄font⁚roboto-mono o⋄top-container" data-o-theme="lod--colorhunt212">  <a href="#contributing" class="github-corner" aria-label="View source on GitHub"> <svg width="80" height="80" viewBox="0 20 225 250" style="position:absolute;top:0;border:0;right:0" aria-hidden="true" fill="#ffebbc" color="#543d46"><path d="M0 0l115 115h15l12 27 108 108V0z"/><path d="M128.3 109c-14.5-9.3-9.3-19.4-9.3-19.4 3-6.9 1.5-11 1.5-11-1.3-6.6 2.9-2.3 2.9-2.3 3.9 4.6 2.1 11 2.1 11-2.6 10.3 5.1 14.6 8.9 15.9" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115c-.1.1 3.7 1.5 4.8.4l13.9-13.8c3.2-2.4 6.2-3.2 8.5-3-8.4-10.6-14.7-24.2 1.6-40.6 4.7-4.6 10.2-6.8 15.9-7 .6-1.6 3.5-7.4 11.7-10.9 0 0 4.7 2.4 7.4 16.1 4.3 2.4 8.4 5.6 12.1 9.2 3.6 3.6 6.8 7.8 9.2 12.2 13.7 2.6 16.2 7.3 16.2 7.3-3.6 8.2-9.4 11.1-10.9 11.7-.3 5.8-2.4 11.2-7.1 15.9-16.4 16.4-30 10-40.6 1.6.2 2.8-1 6.8-5 10.8L141 136.5c-1.2 1.2.6 5.4.8 5.3z" fill="currentColor" class="octo-body"/></svg> </a>  <nav style="position:sticky;top:0;background-color:var(--o⋄color--bg⁚main);box-shadow:0 9px 10px -4px var(--o⋄color--bg⁚main--backdrop);"> <ul class="o⋄nav-list"> <li class="o⋄color⁚secondary o⋄text-noselect"><a href="#intro">Intro</a></li> <li class="o⋄color⁚secondary o⋄text-noselect"><a href="#demo">Demo</a></li> <li class="o⋄color⁚secondary o⋄text-noselect"><a href="#advocacy">Advocacy</a></li> <li class="o⋄color⁚secondary o⋄text-noselect"><a href="#setup">Setup</a></li> <li class="o⋄color⁚secondary o⋄text-noselect"><a href="#FAQ">FAQ</a></li> <li class="o⋄color⁚secondary o⋄text-noselect"><a href="#contributing">Contributing</a></li> </ul> </nav> <article> <h1>Offirmo’s Practical Logger</h1> <div class="o⋄color⁚ancillary" style="margin-top:-20px;font-size:x-large;font-style:italic;"> for browsers & node & modules</div> <aside> <img src="https://badgen.net/badge/built%20for/TypeScript/blue?icon=typescript"> <img src="https://badgen.net/badge/built%20for/JavaScript/yellow"> <a alt="license" href="https://unlicense.org/" target="_blank"><img alt="license badge" src="https://img.shields.io/badge/license-public_domain-brightgreen.svg"></a> <img alt="maintenance status badge" src="https://img.shields.io/maintenance/yes/2020.svg"> </aside> <section id="intro"> <h2>Intro</h2> <p> Offirmo's Practical Logger for TypeScript and JavaScript<br> does only one thing and does it well:<br> <strong>logging locally<sup><a href="#faq-remote-stash">(*)</a></sup> better than the built-in Console</strong>. </p> <pre><code class="language-js">myLogger.verbose('Starting app...', { env: 'staging' })
myLogger.warn('Server timeout, will retry...', { timeoutMs: 2000, attemptCount: 3 })
myLogger.trace('entering computeStuff()...')
// myLogger.log('message [string]', { key: 'values (optional)' })

// when logging an error, use the 'err' key in the details
} catch (err) {
	myLogger.error('Error processing X', { err })
}

// group API is cool so it's forwarded from Console for convenience
myLogger.group()
myLogger.groupCollapsed()
myLogger.groupEnd()
</code></pre> <p><a href="https://docs.google.com/spreadsheets/d/1Bc32plQTswNdCqXS99deB0n7Te7FfD7uepGAOOlPbvY/" target="_blank">Log levels</a>: <span style="color:red;">fatal</span>, <span style="color:red;">emerg</span>, <span style="color:red;">alert</span>, <span style="color:red;">crit</span>, <span style="color:red;">error</span>, <span style="color:#ff0;">warn(ing)</span>, <span style="color:#0ff;">notice</span>, <span style="color:#0ff;">info</span>, <span style="color:#0ff;">verbose</span>, <span style="color:grey;">log</span>, <span style="color:grey;">debug</span>, <span style="color:grey;">trace</span>, <span style="color:grey;">silly</span> </p> <p> Offirmo's Practical Logger features an <strong>isomorphic</strong> interface<br> with node, browser and no-op implementations. </p> </section> <section id="demo"> <h2>Demo</h2> <h3>Live demo: Open the dev tools!</h3> <ul class="o⋄plain-list" style="padding-left:1em;"> <li> <details id="demo-all-levels"> <summary>All levels...<button id="btn-demo-all-levels">Run</button></summary> <div> <p>Levels are compatible with <a href="https://docs.google.com/spreadsheets/d/1Bc32plQTswNdCqXS99deB0n7Te7FfD7uepGAOOlPbvY/" target="_blank">all standard log systems</a></p> <img src="demo-all-levels-20191101.c0410974.png"> </div> </details> </li> <li> <details id="demo-basic"> <summary>Basic usage...<button id="btn-demo-basic">Run</button></summary> <div> <p>Note that levels lower than warn are much more differentiables</p> <img src="demo-usage-20191101.f473a2d5.png"> </div> </details> </li> <li> <details id="demo-error"> <summary>Errors...<button id="btn-demo-error">Run</button></summary> <div> <p>Correctly displaying errors is a first class feature, even when using lower levels.</p> <img src="demo-errors-20191101.e008b04d.png"> </div> </details> </li> <li> <details id="demo-groups"> <summary>Groups, lazy and auto-escape...<button id="btn-demo-groups">Run</button></summary> <div> <p class="o⋄color⁚secondary">(Browser only, node is not concerned.)</p> <p>Without this feature, errors may have been hidden in a collapsed group. Also useless groups with no contents are skipped.</p> <p>This is configurable, of course.</p> <img src="demo-groups-20191101.8cfbf122.png"> </div> </details> </li> </ul> <h3>Screenshots</h3> <details> <summary>Firefox screenshot...</summary> <div> <img src="screen-firefox-20191101.b1f3ede2.png"> </div> </details> <details> <summary>Chromium screenshot...</summary> <div> <p>Note how we compensate chromium's buggy "info" display:</p> <img src="screen-chromium-20191101.c0410974.png"> </div> </details> <details> <summary>Safari screenshot...</summary> <div> <img src="screen-safari-20191101.dfd0ae2f.png"> </div> </details> <details> <summary>IE and others screenshot...</summary> TODO </details> <details> <summary>Terminal / Node screenshot (dark)...</summary> <div> <img src="screen-term-dark.bcbb45bb.png"> <img src="screen-term-dark-alt.c3c572c3.png"> </div> </details> <details> <summary>Terminal / Node screenshot (light)...</summary> <div> <img src="screen-term-light.df28b89c.png"> <img src="screen-term-light-alt.114ef9f0.png"> </div> </details> </section> <section id="advocacy"> <h2>Advocacy</h2> <p> Killer features: </p> <ul> <li>nicer, more readable display</li> <li>Coherent API <span class="o⋄color⁚secondary">only 2 params</span></li> <li>TypeScript first</li> <li>Isomorphic <span class="o⋄color⁚secondary">in an non-bloated way</span></li> <li>Aimed first at logging locally (terminal or devtools) but optionally streamable <span class="o⋄color⁚secondary">ex. node server</span></li> <li>Favorably open source <span class="o⋄color⁚secondary">(UNLICENSE)</span></li> <li>Many many niceties…<span class="o⋄color⁚secondary"> (keep reading)</span></li> </ul> </section> <section id="setup"> <h2>Setup</h2> <p> I strongly suggest using the full <a href="https://universal-debug-api-js.netlify.app/">Universal debug API</a> which contains this one. </p> <p> TODO </p> </section> <section id="FAQ"> <h2>FAQ</h2> <details> <summary><strong>Is that used in production somewhere?</strong></summary> <div> <p> I, the author, am using this lib in production for my <a href="https://www.online-adventur.es/apps/the-boring-rpg/" target="_blank">pet project</a>. </p> </div> </details> <details> <summary><strong>Is it a drop-in replacement for Console?</strong></summary> <div> <p> No, as this logger is not accepting multiple arguments. </p> <p> Also, this logger encourages being semantic, keeping the console invocations for quick debugs. This way, you can keep your eslint rules forbidding using console. </p> </div> </details> <details> <summary><strong>What if I incorrectly call it like Console? (with more than 2 arguments)</strong></summary> <div> <p> If you're using TypeScript, it should tell you ✔ </p> <p> If not, the lib will secretly try to handle it in an undocumented way. (undocumented because you shouldn't rely on it) Just be assured that any error object will be correctly detected ✔ </p> </div> </details> <details> <summary id="faq-remote-stash"><strong>I'm writing a server, can I send the logs to a remote stash?</strong></summary> <div> <p> Yes. It's not a primary feature, but this logger took inspiration from <a href="https://github.com/trentm/node-bunyan#log-record-fields" target="_blank">bunyan</a> and <a href="https://getpino.io/#/docs/transports" target="_blank">pino</a>. Two possible solutions: </p> <ul> <li>If your remote stash is fed from your stdout, you may want to use a sink outputting JSON: <a target="_blank">https://www.npmjs.com/package/@offirmo/practical-logger-core</a> </li> <li>If your remote stash is an API, write your custom sink to intercept logs and send them to the remote location. TODO instructions </li> </ul> </div> </details> <details> <summary><strong>Can we have child loggers?</strong></summary> <div> <p> I decided that this feature, while nice, was complicated to get right (should inherit log lovels? details? Dynamically?) and would greatly increase the complexity and bundle size. </p> <p> IMO a logger should have a "safe" and straightforward behavior, hence simplicity as a feature. </p> </div> </details> <details> <summary><strong>Are there any tradeoffs?</strong></summary> <div> <p> Yes, all solutions have tradeoffs. Here are the most notable one: </p> <ul> <li>For browsers: You no longer get the call site in the dev tools.</li> <li>Slower than Console.x for logged item, but faster for filtered out items</li> <li>If you're using this lib directly (not recommended), no built-in mechanism to change the log level at run time. Please use the <a href="https://universal-debug-api-js.netlify.app/">Universal debug API</a> instead</li> </ul> </div> </details> </section> <section id="contributing"> <h2>Contributing</h2> <p> This lib is part of my monorepo, you'll have to build it fully: <a target="_blank">https://github.com/Offirmo/offirmo-monorepo#contributing</a> </p> <ol> <li><a target="_blank">https://github.com/Offirmo/offirmo-monorepo/tree/master/2-foundation/practical-logger-types</a></li> <li><a target="_blank">https://github.com/Offirmo/offirmo-monorepo/tree/master/2-foundation/practical-logger-core</a></li> <li><a target="_blank">https://github.com/Offirmo/offirmo-monorepo/tree/master/2-foundation/practical-logger-minimal-noop</a></li> <li><a target="_blank">https://github.com/Offirmo/offirmo-monorepo/tree/master/2-foundation/practical-logger-browser</a></li> <li><a target="_blank">https://github.com/Offirmo/offirmo-monorepo/tree/master/2-foundation/practical-logger-node</a></li> </ol> </section> <section> <h2>Credits</h2> <ul> <li><a target="_blank">https://www.npmjs.com/</a></li> <li><a target="_blank">https://github.com/</a></li> <li><a target="_blank">https://www.typescriptlang.org/</a></li> <li><a target="_blank">https://www.netlify.com/</a></li> <li><a target="_blank">https://www.jsdelivr.com/</a></li> <li><a target="_blank">https://prismjs.com/</a></li> </ul> </section> </article> <script>Array.prototype.forEach.call(document.querySelectorAll("a"),function(e){e.href||(e.href=e.text)});</script> <script async importance="high" src="src.b8a0bb41.js"></script> <script src="https://cdn.jsdelivr.net/npm/prismjs@1.17.1/components/prism-core.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/prismjs@1.17.1/plugins/autoloader/prism-autoloader.min.js"></script> </body></html>